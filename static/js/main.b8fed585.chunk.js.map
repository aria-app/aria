{"version":3,"sources":["features/audio/constants.js","features/audio/dawww.js","features/audio/helpers/previewPitch.js","features/shared/actions.js","features/shared/components/Box/Box.js","features/shared/components/Boxes/Boxes.js","features/shared/components/DownloadButton/DownloadButton.js","features/shared/components/Icon/icons.js","features/shared/components/Icon/Icon.js","features/shared/components/IconButton/IconButton.js","features/shared/helpers/getCenteredScroll.js","features/shared/helpers/getExtraProps.js","features/shared/helpers/toggleInArray.js","features/shared/components/MatrixBox/MatrixBox.js","features/shared/components/Shell/Shell.js","features/shared/components/Timeline/Timeline.js","features/shared/components/Toolbar/Toolbar.js","features/shared/components/FadeIn/FadeIn.js","features/shared/components/FadeOut/FadeOut.js","features/shared/components/UploadOverlay/UploadOverlay.js","features/shared/constants.js","features/shared/i18n/index.js","features/shared/i18n/resources.js","features/shared/styles/mixins/index.js","features/shared/styles/mixins/interactionOverlay.js","features/shared/styles/themes/base.js","features/shared/styles/themes/index.js","features/shared/styles/themes/emerald.js","features/shared/styles/themes/mui.js","features/shared/index.js","features/audio/selectors/getFocusedSequenceId.js","features/audio/selectors/getPlaybackState.js","features/audio/selectors/getIsStopped.js","features/audio/selectors/getPosition.js","features/audio/logic/loadSong.js","features/audio/logic/pause.js","features/audio/logic/setPosition.js","features/audio/logic/start.js","features/audio/logic/stop.js","features/audio/logic/subscribeToPosition.js","features/audio/logic/subscribeToState.js","features/song/constants.js","features/song/helpers/fetchSongById.js","features/song/helpers/updateSong.js","features/song/selectors/getBPM.js","features/song/selectors/getNotes.js","features/song/selectors/getNoteById.js","features/song/selectors/getNotesArray.js","features/song/selectors/getSequences.js","features/song/selectors/getSequenceById.js","features/song/selectors/getSequencesArray.js","features/song/selectors/getDeepSequences.js","features/song/selectors/getTracks.js","features/song/selectors/getTrackById.js","features/song/selectors/getTracksArray.js","features/song/selectors/getDeepTracks.js","features/song/selectors/getId.js","features/song/selectors/getIsRedoEnabled.js","features/song/selectors/getIsSongLoading.js","features/song/selectors/getIsUndoEnabled.js","features/song/selectors/getMeasureCount.js","features/song/selectors/getName.js","features/song/selectors/getNotesBySequenceId.js","features/song/selectors/getUserId.js","features/song/selectors/getSong.js","features/song/selectors/getStringifiedSong.js","features/song/selectors/getSyncState.js","features/song/logic/fetchSongToEdit.js","features/song/logic/updateSongOnChange.js","features/song/logic/index.js","features/song/reducer/bpm.js","features/song/reducer/id.js","features/song/reducer/measureCount.js","features/song/reducer/name.js","features/song/reducer/notes.js","features/song/reducer/sequences.js","features/song/reducer/syncState.js","features/song/reducer/tracks.js","features/song/reducer/userId.js","features/song/reducer/index.js","features/song/index.js","features/audio/logic/index.js","features/audio/logic/updateSong.js","features/audio/reducer/focusedSequenceId.js","features/audio/reducer/playbackState.js","features/audio/reducer/position.js","features/audio/index.js","features/audio/reducer/index.js","features/user/constants.js","features/user/selectors/getDidAuthenticationRun.js","features/user/selectors/getUser.js","features/user/selectors/getIsAuthenticated.js","features/user/selectors/getIsUserSongLibraryLoading.js","features/user/selectors/getUserSongLibrary.js","features/user/logic/addSong.js","features/user/logic/deleteSong.js","features/user/logic/fetchUserSongLibrary.js","features/user/logic/index.js","features/user/logic/subscribeToAuthState.js","features/user/reducer/didAuthenticationRun.js","features/user/reducer/user.js","features/user/reducer/userSongLibrary.js","features/user/index.js","features/user/reducer/index.js","features/dashboard/components/SongListItem/SongListItem.js","features/dashboard/components/SongList/SongList.js","features/dashboard/components/Dashboard/Dashboard.js","features/dashboard/components/Dashboard/DashboardContainer.js","features/dashboard/index.js","features/sequenceEditor/constants.js","features/sequenceEditor/components/Note/Note.js","features/sequenceEditor/components/DrawLayer/DrawLayer.js","features/sequenceEditor/components/Notes/Notes.js","features/sequenceEditor/components/Panner/Panner.js","features/sequenceEditor/components/Fence/Fence.js","features/sequenceEditor/components/Selector/Selector.js","features/sequenceEditor/components/Slots/Slots.js","features/sequenceEditor/components/Grid/Grid.js","features/sequenceEditor/components/Key/Key.js","features/sequenceEditor/components/Keys/Keys.js","features/sequenceEditor/components/SequenceEditorToolbar/SequenceEditorToolbar.js","features/sequenceEditor/components/SequenceEditor/SequenceEditor.js","features/sequenceEditor/components/SequenceEditor/SequenceEditorContainer.js","features/sequenceEditor/index.js","features/tracksEditor/components/AddTrackButton/AddTrackButton.js","features/tracksEditor/components/RulerResizer/RulerResizer.js","features/tracksEditor/components/Ruler/Ruler.js","features/tracksEditor/components/AddSequenceButton/AddSequenceButton.js","features/tracksEditor/components/TrackSequenceNote/TrackSequenceNote.js","features/tracksEditor/components/TrackSequence/TrackSequence.js","features/tracksEditor/components/TrackHeader/TrackHeader.js","features/tracksEditor/components/Track/Track.js","features/tracksEditor/components/TrackList/TrackList.js","features/tracksEditor/components/TrackEditingModal/TrackEditingModal.js","features/tracksEditor/components/TracksEditorToolbar/TracksEditorToolbar.js","features/tracksEditor/components/TracksEditor/TracksEditor.js","features/tracksEditor/components/TracksEditor/TracksEditorContainer.js","features/tracksEditor/constants.js","features/tracksEditor/index.js","features/songEditor/components/SongEditorToolbar/SongEditorToolbar.js","features/songEditor/components/SongInfoModal/SongInfoModal.js","features/songEditor/components/SongEditor/SongEditor.js","features/songEditor/components/SongEditor/SongEditorContainer.js","features/songEditor/constants.js","features/songEditor/index.js","features/app/components/SignIn/SignIn.js","features/app/components/SignIn/SignInContainer.js","features/app/components/SignOut/SignOut.js","features/app/components/SignOut/SignOutContainer.js","features/app/components/App/App.js","features/app/components/App/AppContainer.js","features/app/index.js","store/logic.js","store/reducer.js","store/index.js","index.js"],"names":["NAME","octaveRange","Dawww","previewPitch","trackId","pitch","dawww","preview","BPM_SET","DASHBOARD_LOADED","INITIALIZED","MEASURE_COUNT_SET","NOTE_DRAWN","NOTE_ERASED","NOTES_DRAGGED","NOTES_DUPLICATED","NOTES_MOVED_OCTAVE_DOWN","NOTES_MOVED_OCTAVE_UP","NOTES_NUDGED","NOTES_RESIZED","NOTES_DELETED","PLAYBACK_PAUSE_REQUEST_STARTED","PLAYBACK_START_REQUEST_STARTED","PLAYBACK_STATE_REQUEST_SUCCEEDED","PLAYBACK_STOP_REQUEST_STARTED","POSITION_REQUEST_SUCCEEDED","POSITION_SET_REQUEST_STARTED","REDO_REQUESTED","SEQUENCE_ADDED","SEQUENCE_DELETED","SEQUENCE_DUPLICATED","SEQUENCE_EDITED","SEQUENCE_EDITOR_LOADED","SYNC_STARTED","SYNC_SUCCEEDED","SONG_ADD_REQUEST_STARTED","SONG_ADD_REQUEST_SUCCEEDED","SONG_DELETE_REQUEST_STARTED","SONG_DELETE_REQUEST_SUCCEEDED","SONG_EDITOR_LOADED","SONG_LOADED","TRACK_ADDED","TRACK_DELETED","TRACK_IS_MUTED_TOGGLED","TRACK_IS_SOLOING_TOGGLED","TRACK_VOICE_SET","TRACK_VOLUME_SET","UNDO_REQUESTED","USER_SIGN_IN_SUCCEEDED","USER_SIGN_OUT_SUCCEEDED","USER_SONG_LIBRARY_FETCH_REQUEST_SUCCEEDED","undoableActions","serverUpdatingActions","dawwwUpdatingActions","concat","bpmSet","bpm","type","payload","dashboardLoaded","initialized","measureCountSet","measureCount","noteDrawn","point","sequence","noteErased","note","notesDeleted","notes","notesDragged","notesDuplicated","notesMovedOctaveDown","notesMovedOctaveUp","notesNudged","delta","notesResized","playbackPauseRequestStarted","playbackStartRequestStarted","playbackStateRequestSucceeded","playbackState","playbackStopRequestStarted","positionRequestSucceeded","position","positionSetRequestStarted","redoRequested","sequenceAdded","sequenceDeleted","sequenceDuplicated","duplicatedSequence","originalSequence","sequenceEdited","sequenceEditorLoaded","songId","sequenceId","songAddRequestStarted","options","songAddRequestSucceeded","song","songDeleteRequestStarted","songDeleteRequestSucceeded","songEditorLoaded","songLoaded","syncStarted","syncSucceeded","trackAdded","track","trackDeleted","trackIsMutedToggled","trackIsSoloingToggled","trackVoiceSet","voice","trackVolumeSet","volume","undoRequested","userSignInSucceeded","user","userSignOutSucceeded","userSongLibraryFetchRequestSucceeded","userSongLibrary","BoxResizer","styled","div","attrs","className","props","backgroundColor","bottom","cursor","left","top","width","theme","margin","m","zIndex","StyledBox","withConfig","displayName","componentId","display","flexDirection","height","transition","length","step","isDragging","Box","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","getPosition","x","item","y","getResizerPosition","handleDrag","e","onItemChange","objectSpread","handleResizerDrag","Math","max","deltaX","inherits","createClass","key","value","_this2","react_default","a","createElement","react_draggable_default","axis","bounds","cancel","grid","id","onDrag","onStart","setState","onStop","style","React","contentComponent","Component","defaultProps","StyledBoxes","Boxes","draggedItemId","getBoxes","items","filter","i","handleBoxItemChange","draggedItem","onItemsChange","map","Box_Box","boxContentComponent","DownloadButton","_ref","filename","fileContents","rest","objectWithoutProperties","Button_default","assign","download","href","encodeURIComponent","icons","arrow-down","require","arrow-left","arrow-right","arrow-up","caret-down","chevron-left","chevron-right","cog","clone","close","eraser","hand-paper-o","long-arrow-down","long-arrow-left","long-arrow-right","long-arrow-up","mouse-pointer","pause","pencil","play","plus","redo","stop","trash","undo","IconContent","alignItems","flex","justifyContent","StyledIcon","Icon","_React$PureComponent","getClassName","classnames","styled_components_browser_esm","color","getIcon","iconComponent","icon","size","getSizePixels","PureComponent","IconButtonBackground","isActive","IconButtonIconWrapper","opacity","isDisabled","StyledIconButton","transform","&:hover","&:active","IconButton","handleClick","onClick","ref","getRef","title","Icon_Icon","iconProps","getCenteredScroll","el","scrollHeight","offsetHeight","getExtraProps","instance","omit","keys","getOr","toggleInArray","array","includes","without","toConsumableArray","StyledMatrixBox","MatrixBox","getData","rowCount","matrix","data","rowIndex","row","columnCount","columnIndex","nodeType","getNodeData","fill","nextProps","marginLeft","marginRight","marginTop","marginBottom","viewBox","dangerouslySetInnerHTML","__html","Shell","almostwhite","overflow","right","Timeline","offset","isVisible","pointerEvents","StyledToolbar","greystone","borderTop","midgray","paddingLeft","s","paddingRight","ToolbarLeftItems","ToolbarRightItems","Toolbar","getLeftItems","getRightItems","isAlternate","leftItemsAlt","leftItems","rightItemsAlt","rightItems","FadeIn","children","component","useTransition","enter","from","_ref2","animated","FadeOut","leave","reader","FileReader","StyledUploadOverlay","UploadOverlayTint","UploadOverlayDragIndicator","borderRadius","padding","UploadOverlay","handleDragOver","preventDefault","stopPropagation","handleDragLeave","onCancel","handleDrop","file","files","dataTransfer","isEmpty","Promise","resolve","onload","target","result","undefined","JSON","parse","readAsText","then","onUpload","catch","showIf","isFileOver","onDragLeave","onDragOver","onDrop","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","authProvider","GoogleAuthProvider","db","SYNC_STATES","FAILED","SYNCED","SYNCING","i18n","use","detector","initReactI18next","init","fallbackLng","keySeparator","lng","resources","en","translation","Delete","Download Song","Edit Track","English","Japanese","PWM","Return to Dashboard","SAWTOOTH","Select Language","Sign In","Sign in with Google","Sign Out","Signing Out","SINE","Song Info","SQUARE","TRIANGLE","Voice","Volume","jp","mixins","interactionOverlay","baseBgColor","base","danger","xs","l","xl","minWidthWidescreen","subtext","almostblack","ashgray","themes","emerald","primary","mui","createMuiTheme","palette","typography","fontFamily","useNextVariants","shared","actions","components","constants","helpers","styles","getFocusedSequenceId","getPlaybackState","getIsStopped","compose","isEqual","PLAYBACK_STATES","STOPPED","loadSong","createLogic","process","dispatch","done","action","getState","focusedSequenceId","selectors","updateSong","setPosition","start","subscribeToPosition","processOptions","dispatchMultiple","warnTimeout","onPositionChange","subscribeToState","onStateChange","fetchSongById","collection","doc","get","update","getBPM","getNotes","getNoteById","pipe","getNotesArray","getSequences","getSequenceById","getSequencesArray","getDeepSequences","getDeepSequence","getTracks","getTrackById","getTracksArray","getDeepTracks","sequences","getDeepTrack","getId","getIsRedoEnabled","negate","getIsSongLoading","getIsUndoEnabled","getMeasureCount","getName","getNotesBySequenceId","getUserId","getSong","name","tracks","userId","getStringifiedSong","stringify","getSyncState","fetchSongToEdit","prevSong","throttledUpdate","throttle","logic","songWithDateModified","dateModified","Date","now","error","console","createReducer","_createReducer","defineProperty","id_createReducer","measureCount_createReducer","name_createReducer","initialValue","octaveDownDelta","octaveUpDelta","notes_createReducer","createNote","setAtIds","translateNote","notesInSequence","values","notesWithNewSequenceId","duplicateNotes","sequences_createReducer","reject","syncState","syncState_createReducer","tracks_createReducer","isMuted","isSoloing","userId_createReducer","rootReducer","combineReducers","features_song","reducer","undoable","clearHistoryType","includeAction","redoType","syncFilter","undoType","audio_logic","songState","focusedSequenceId_createReducer","audio","getDidAuthenticationRun","getUser","getIsAuthenticated","isNil","getIsUserSongLibraryLoading","getUserSongLibrary","addSong","createSong","uid","set","deleteSong","delete","user_logic","where","querySnapshot","docs","_","onAuthStateChanged","didAuthenticationRun","didAuthenticationRun_createReducer","user_createReducer","userSongLibrary_createReducer","features_user","SongListItemDeleteButton","SongListItemText","alignSelf","StyledSongListItem","SongListItem","onDelete","open","onOpen","StyledSongList","paddingBottom","paddingTop","SongList","sortedSongs","useMemo","orderBy","songs","songTransitions","config","clamp","tension","reset","trail","unique","animation","web","SongListItem_SongListItem","LoadingIndicator","DashboardCenteredContent","maxWidth","DashboardUserImage","img","DashboardUserInfo","Fab","StyledDashboard","Dashboard","window","prompt","onSongAdd","confirm","onSongDelete","openSong","history","push","onLoad","document","Dashboard_Toolbar","Fragment","alt","src","photoURL","email","Dashboard_FadeOut","isLoadingSongs","hideIf","Dashboard_Icon","DashboardContainer","withRouter","connect","dashboard","toolTypes","DRAW","ERASE","SELECT","MOVE","PAN","NoteConnector","isSelected","transparentize","transformOrigin","NoteFill","boxShadow","NotePoint","StyledNote","Note","getEndPointPosition","points","deltaY","round","handleDragStart","onDragStart","handleDragStop","onDragStop","handleEndPointDrag","onEndPointDrag","handleEndPointDragStart","onEndPointDragStart","handleEndPointDragStop","onEndPointDragStop","positionBounds","handle","getConnectorStyle","sizeBounds","getEndPointStyle","startPoint","first","endPoint","last","asin","abs","PI","sign","sqrt","scale","pow","rotation","is32ndNote","DrawLayerGhostNote","StyledDrawLayer","DrawLayer","isMouseOver","isDrawing","getIsDrawing","handleMouseDown","handleMouseEnter","handleMouseLeave","primaryClassName","split","elementRef","querySelector","handleMouseUp","mousePoint","onDraw","setRef","onMouseDown","onMouseEnter","onMouseLeave","onMouseUp","getGhostNoteNote","StyledNotes","Notes","_useState","useState","OCTAVE_RANGE","_useState2","slicedToArray","setPositionBounds","_useState3","_useState4","setSizeBounds","_useState5","_useState6","positionDeltas","setPositionDeltas","_useState7","_useState8","sizeDeltas","setSizeDeltas","getIsNoteSelected","find","selectedNotes","getIsSelectEnabled","toolType","erase","onErase","handleNoteDrag","newDeltas","reduce","acc","cur","prevX","prevY","adjustedNotes","applyPositionDeltas","onDragPreview","handleNoteDragStart","draggedNote","uniqBy","draggedX","draggedY","maxX","maxY","minX","min","minY","baseBottom","baseRight","select","handleNoteDragStop","handleNoteEndPointDrag","handleNoteEndPointDragStart","sizedNote","maxPositionX","handleNoteEndPointDragStop","onResize","applySizeDeltas","isAdditive","ctrlKey","metaKey","onSelect","Note_Note","memo","deltas","noteDelta","StyledPanner","Panner","getIsPanning","getStartPoint","handleMouseMove","dx","pageX","dy","pageY","scrollLeft","scrollTop","scrollLeftEl","scrollTopEl","onMouseMove","StyledFence","border","Fence","getIsSelecting","getDisplay","getHeight","getTransform","getWidth","isSelecting","end","hasMoved","StyledSelector","Selector","isEnabled","Fence_Fence","StyledSlots","minHeight","Slots","getStripe","n","SCALE","getHTML","slots","range","columnNumber","rowNumber","column","floor","getSlot","stripes","GridWrapper","overflowX","StyledGrid","overflowY","Grid","handleSelectorSelect","onSelectInArea","getWrapperStyle","Slots_Slots","DrawLayer_DrawLayer","Selector_Selector","Notes_Notes","Panner_Panner","sequenceEditorContentRef","Grid_Timeline","KeyLabel","StyledKey","&::after","content","isHoveredRow","Key","StyledKeys","Keys","getIsHoveredRow","gridMousePoint","getScale","handleKeyMouseDown","onKeyPress","index","Key_Key","borderBottomRightRadius","borderTopRightRadius","SequenceEditorToolbar","getAreSomeNotesSelected","getIsOctaveDownButtonDisabled","someNoteWillMoveOutside","getIsOctaveUpButtonDisabled","SequenceEditorToolbar_Toolbar","SequenceEditorToolbar_IconButton","onClose","toolTip","onDeselectAll","isUndoEnabled","onUndo","isRedoEnabled","onRedo","onSelectToolSelect","onDrawToolSelect","onEraseToolSelect","onPanToolSelect","onDuplicate","onOctaveUp","onOctaveDown","SequenceEditorContent","SequenceEditorWrapper","StyledSequenceEditor","HotKeys","SequenceEditor","activateDrawTool","activatePanOverride","repeat","previousToolType","addEventListener","deactivatePanOverride","activateEraseTool","activatePanTool","activateSelectTool","match","params","keyCode","removeEventListener","deleteSelectedNotes","selectedNoteIds","getSelectedNotes","deselectAllNotes","duplicateSelectedNotes","duplicatedNotes","getKeyHandlers","backspace","d","del","down","nudgeDown","nudgeLeft","p","nudgeRight","space","up","nudgeUp","ctrl+a","selectAll","ctrl+d","ctrl+shift+d","ctrl+alt+z","ctrl+z","meta+a","meta+d","meta+shift+d","meta+alt+z","meta+z","noteId","handleGridDragPreview","handleGridDraw","handleGridErase","handleGridMouseLeave","handleGridMouseMove","offsetLeft","offsetTop","toSlotNumber","getGridMousePoint","currentTarget","contentElementRef","handleGridSelect","handleGridSelectInArea","notesInArea","getNotesInArea","uniq","handleToolbarOctaveDown","handleToolbarOctaveUp","nudge","onNudge","setContentRef","forceUpdate","focusRef","createRef","current","focus","prevProps","focused","handlers","tabIndex","isLoading","SequenceEditor_LoadingIndicator","Keys_Keys","Grid_Grid","SequenceEditorToolbar_SequenceEditorToolbar","SequenceEditorContainer","ownProps","stateProps","dispatchProps","sequenceEditor","AddTrackButtonPlusHorizontal","AddTrackButtonPlusVertical","StyledAddTrackButton","&:hover:not(:active)","AddTrackButton","DraggableWrapper","StyledRulerResizer",":after","borderLeft","borderRight","RulerResizer","setIsDragging","dragData","onSizeChange","RulerMeasureNumber","fontSize","StyledRuler","Ruler","getMatrix","times","measureWidth","isStopped","measures","onPositionSet","Ruler_MatrixBox","onMeasureCountChange","measureIndex","AddSequenceButtonPlusHorizontal","AddSequenceButtonPlusVertical","StyledAddSequenceButton","AddSequenceButton","TrackSequenceNote","x0","x1","y0","StyledTrackSequence","isMounted","TrackSequence","getStyle","count","assertThisInitialized","handleDoubleClick","setTimeout","onDoubleClick","TrackHeader","fontWeight","textTransform","StyledTrack","TrackMatrixBox","TrackSequences","Track","getBodySequencesStyle","songMeasureCount","getBoxesItems","getFirstEmptyPosition","allPositions","some","inRange","sequenceCoversPosition","getIsSequenceSelected","selectedSequenceId","getSequenceComponent","TrackSequence_TrackSequence","onSequenceOpen","onSequenceSelect","handleBodySequencesSequenceOpen","handleBodySequencesSequenceSelect","handleBoxesItemsChange","editedSequences","each","onSequenceEdit","handleHeaderClick","onTrackSelect","handleHeaderIsMutedToggle","onTrackIsMutedToggle","handleHeaderIsSoloingToggle","onTrackIsSoloingToggle","handleSequenceAdd","onSequenceAdd","firstEmptyPosition","react_i18next_dist_es","t","Track_Boxes","AddSequenceButton_AddSequenceButton","StyledTrackList","TrackListContent","minWidth","TrackListUnderlay","TrackList","trackTransitions","TrackList_FadeOut","onSequenceDeselect","TrackList_FadeIn","Ruler_Ruler","onSongMeasureCountChange","interpolate","output","Track_Track","onTrackStage","selectedSequence","onTrackAdd","DeleteButton","Button","TrackEditingModalDropdown","FormControl","TrackEditingModalContent","DialogContent","TrackEditingModalTitle","DialogTitle","TrackEditingModal","getIsOpen","stagedTrack","handleContentDeleteButtonClick","handleVoiceChange","onVoiceSet","handleVolumeChange","onVolumeSet","Dialog_default","fullWidth","onDismiss","InputLabel_default","htmlFor","Select_default","inputProps","onChange","VOICES","MenuItem_default","minVolume","variant","TracksEditorToolbar","getIsAlternate","openSequence","TracksEditorToolbar_Toolbar","TracksEditorToolbar_IconButton","onSequenceDuplicate","onSequenceDelete","StyledTracksEditor","TracksEditor","selectedTrackId","deleteSelectedSequence","getSelectedSequence","deleteTrack","onTrackDelete","deselectTrack","duplicateSelectedSequence","createSequence","getSelectedTrack","handleTrackListSequenceAdd","handleTrackListSequenceDeselect","handleTrackListSequenceSelect","handleTrackListTrackAdd","createTrack","handleTracksEditorToolbarSequenceDelete","handleTracksEditorToolbarSequenceOpen","url","selectTrack","TracksEditorToolbar_TracksEditorToolbar","TracksEditor_Timeline","TrackEditingModal_TrackEditingModal","onTrackVoiceSet","onTrackVolumeSet","TracksEditorContainer","tracksEditor","STARTED","SongEditorToolbar","getIsMoveLeftButtonDisabled","getIsShortenButtonDisabled","playPause","Tone","context","resume","onPause","onPlay","SongEditorToolbar_Toolbar","SongEditorToolbar_IconButton","onSongInfoOpen","bpmRangeItems","text","String","BPM_RANGE","SongInfoModalBPMDropdown","SongInfoModalContent","SongInfoModalTitle","SongInfoModalLabel","Typography","SongInfoModal","handleBPMSelectChange","event","onBPMChange","onConfirm","isOpen","bpmRangeItem","onReturnToDashboard","onSignOut","SongInfoModal_DownloadButton","changeLanguage","StyledSongEditor","SongEditor","isSongInfoModalOpen","closeSongInfo","openSongInfo","returnToDashboard","signOut","react_router","exact","path","SongEditorToolbar_SongEditorToolbar","SongInfoModal_SongInfoModal","SongEditorContainer","songEditor","StyledSignIn","SignIn","getRedirectFrom","pathname","isAuthenticated","to","signInWithRedirect","SignInContainer","StyledSignOut","SignOut","SignOutContainer","PrivateRoute","render","location","App","esc","index_es","onDragEnter","handleDragEnter","App_Shell","App_LoadingIndicator","App_PrivateRoute","AppContainer","app","store_logic","_combineReducers","logicMiddleware","createLogicMiddleware","middlewareEnhancer","applyMiddleware","composeEnhancers","composeWithDevTools","actionsBlacklist","store","createStore","styleNode","createComment","head","insertBefore","firstChild","generateClassName","createGenerateClassName","jss","create","jssPreset","insertionPoint","JssProvider_default","react_router_dom","es","src_AppContainer"],"mappings":"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","file":"static/js/main.b8fed585.chunk.js","sourcesContent":["export const NAME = 'audio';\n\nexport const octaveRange = [0, 1, 2, 3, 4, 5, 6];\n","import Dawww from 'dawww';\n\nexport default Dawww({});\n","import dawww from '../dawww';\n\nexport const previewPitch = (trackId, pitch) => {\n\tdawww.preview(trackId, pitch);\n}\n","export const BPM_SET = 'BPM_SET';\nexport const DASHBOARD_LOADED = 'DASHBOARD_LOADED';\nexport const INITIALIZED = 'INITIALIZED';\nexport const MEASURE_COUNT_SET = 'MEASURE_COUNT_SET';\nexport const NOTE_DRAWN = 'NOTE_DRAWN';\nexport const NOTE_ERASED = 'NOTE_ERASED';\nexport const NOTES_DRAGGED = 'NOTES_DRAGGED';\nexport const NOTES_DUPLICATED = 'NOTES_DUPLICATED';\nexport const NOTES_MOVED_OCTAVE_DOWN = 'NOTES_MOVED_OCTAVE_DOWN';\nexport const NOTES_MOVED_OCTAVE_UP = 'NOTES_MOVED_OCTAVE_UP';\nexport const NOTES_NUDGED = 'NOTES_NUDGED';\nexport const NOTES_RESIZED = 'NOTES_RESIZED';\nexport const NOTES_DELETED = 'NOTES_DELETED';\nexport const PLAYBACK_PAUSE_REQUEST_STARTED = 'PLAYBACK_PAUSE_REQUEST_STARTED';\nexport const PLAYBACK_START_REQUEST_STARTED = 'PLAYBACK_START_REQUEST_STARTED';\nexport const PLAYBACK_STATE_REQUEST_SUCCEEDED = 'PLAYBACK_STATE_REQUEST_SUCCEEDED';\nexport const PLAYBACK_STOP_REQUEST_STARTED = 'PLAYBACK_STOP_REQUEST_STARTED';\nexport const POSITION_REQUEST_SUCCEEDED = 'POSITION_REQUEST_SUCCEEDED';\nexport const POSITION_SET_REQUEST_STARTED = 'POSITION_SET_REQUEST_STARTED';\nexport const REDO_REQUESTED = 'REDO_REQUESTED';\nexport const SEQUENCE_ADDED = 'SEQUENCE_ADDED';\nexport const SEQUENCE_DELETED = 'SEQUENCE_DELETED';\nexport const SEQUENCE_DUPLICATED = 'SEQUENCE_DUPLICATED';\nexport const SEQUENCE_EDITED = 'SEQUENCE_EDITED';\nexport const SEQUENCE_EDITOR_LOADED = 'SEQUENCE_EDITOR_LOADED';\nexport const SYNC_STARTED = 'SYNC_STARTED';\nexport const SYNC_SUCCEEDED = 'SYNC_SUCCEEDED';\nexport const SONG_ADD_REQUEST_STARTED = 'SONG_ADD_REQUEST_STARTED';\nexport const SONG_ADD_REQUEST_SUCCEEDED = 'SONG_ADD_REQUEST_SUCCEEDED';\nexport const SONG_DELETE_REQUEST_STARTED = 'SONG_DELETE_REQUEST_STARTED';\nexport const SONG_DELETE_REQUEST_SUCCEEDED = 'SONG_DELETE_REQUEST_SUCCEEDED';\nexport const SONG_EDITOR_LOADED = 'SONG_EDITOR_LOADED';\nexport const SONG_LOADED = 'SONG_LOADED';\nexport const TRACK_ADDED = 'TRACK_ADDED';\nexport const TRACK_DELETED = 'TRACK_DELETED';\nexport const TRACK_IS_MUTED_TOGGLED = 'TRACK_IS_MUTED_TOGGLED';\nexport const TRACK_IS_SOLOING_TOGGLED = 'TRACK_IS_SOLOING_TOGGLED';\nexport const TRACK_VOICE_SET = 'TRACK_VOICE_SET';\nexport const TRACK_VOLUME_SET = 'TRACK_VOLUME_SET';\nexport const UNDO_REQUESTED = 'UNDO_REQUESTED';\nexport const USER_SIGN_IN_SUCCEEDED = 'USER_SIGN_IN_SUCCEEDED';\nexport const USER_SIGN_OUT_SUCCEEDED = 'USER_SIGN_OUT_SUCCEEDED';\nexport const USER_SONG_LIBRARY_FETCH_REQUEST_SUCCEEDED = 'USER_SONG_LIBRARY_FETCH_REQUEST_SUCCEEDED';\n\nexport const undoableActions = [\n  BPM_SET,\n  MEASURE_COUNT_SET,\n  NOTE_DRAWN,\n  NOTE_ERASED,\n  NOTES_DELETED,\n  NOTES_DRAGGED,\n  NOTES_DUPLICATED,\n  NOTES_MOVED_OCTAVE_DOWN,\n  NOTES_MOVED_OCTAVE_UP,\n  NOTES_NUDGED,\n  NOTES_RESIZED,\n  SEQUENCE_ADDED,\n  SEQUENCE_DELETED,\n  SEQUENCE_DUPLICATED,\n  SEQUENCE_EDITED,\n  TRACK_ADDED,\n  TRACK_DELETED,\n  TRACK_IS_MUTED_TOGGLED,\n  TRACK_IS_SOLOING_TOGGLED,\n  TRACK_VOICE_SET,\n  TRACK_VOLUME_SET,\n];\n\nexport const serverUpdatingActions = [\n  BPM_SET,\n  MEASURE_COUNT_SET,\n  NOTE_DRAWN,\n  NOTE_ERASED,\n  NOTES_DELETED,\n  NOTES_DRAGGED,\n  NOTES_DUPLICATED,\n  NOTES_MOVED_OCTAVE_DOWN,\n  NOTES_MOVED_OCTAVE_UP,\n  NOTES_NUDGED,\n  NOTES_RESIZED,\n  REDO_REQUESTED,\n  SEQUENCE_ADDED,\n  SEQUENCE_DELETED,\n  SEQUENCE_DUPLICATED,\n  SEQUENCE_EDITED,\n  TRACK_ADDED,\n  TRACK_DELETED,\n  TRACK_IS_MUTED_TOGGLED,\n  TRACK_IS_SOLOING_TOGGLED,\n  TRACK_VOICE_SET,\n  TRACK_VOLUME_SET,\n  UNDO_REQUESTED,\n];\n\nexport const dawwwUpdatingActions = [\n  ...serverUpdatingActions,\n  SEQUENCE_EDITOR_LOADED,\n  SONG_EDITOR_LOADED,\n];\n\nexport const bpmSet = bpm => ({\n  type: BPM_SET,\n  payload: {\n    bpm,\n  },\n});\n\nexport const dashboardLoaded = () => ({\n  type: DASHBOARD_LOADED,\n});\n\nexport const initialized = () => ({\n  type: INITIALIZED,\n});\n\nexport const measureCountSet = measureCount => ({\n  type: MEASURE_COUNT_SET,\n  payload: {\n    measureCount,\n  },\n});\n\nexport const noteDrawn = (point, sequence) => ({\n  type: NOTE_DRAWN,\n  payload: {\n    point,\n    sequence,\n  },\n});\n\nexport const noteErased = note => ({\n  type: NOTE_ERASED,\n  payload: {\n    note,\n  },\n});\n\nexport const notesDeleted = notes => ({\n  type: NOTES_DELETED,\n  payload: {\n    notes,\n  },\n});\n\nexport const notesDragged = notes => ({\n  type: NOTES_DRAGGED,\n  payload: {\n    notes,\n  },\n});\n\nexport const notesDuplicated = notes => ({\n  type: NOTES_DUPLICATED,\n  payload: {\n    notes,\n  },\n});\n\nexport const notesMovedOctaveDown = notes => ({\n  type: NOTES_MOVED_OCTAVE_DOWN,\n  payload: {\n    notes,\n  },\n});\n\nexport const notesMovedOctaveUp = notes => ({\n  type: NOTES_MOVED_OCTAVE_UP,\n  payload: {\n    notes,\n  },\n});\n\nexport const notesNudged = (delta, notes, sequence) => ({\n  type: NOTES_NUDGED,\n  payload: {\n    delta,\n    notes,\n    sequence,\n  },\n});\n\nexport const notesResized = notes => ({\n  type: NOTES_RESIZED,\n  payload: {\n    notes,\n  },\n});\n\nexport const playbackPauseRequestStarted = () => ({\n  type: PLAYBACK_PAUSE_REQUEST_STARTED,\n});\n\nexport const playbackStartRequestStarted = () => ({\n  type: PLAYBACK_START_REQUEST_STARTED,\n});\n\nexport const playbackStateRequestSucceeded = playbackState => ({\n  type: PLAYBACK_STATE_REQUEST_SUCCEEDED,\n  payload: {\n    playbackState,\n  },\n});\n\nexport const playbackStopRequestStarted = () => ({\n  type: PLAYBACK_STOP_REQUEST_STARTED,\n});\n\nexport const positionRequestSucceeded = position => ({\n  type: POSITION_REQUEST_SUCCEEDED,\n  payload: {\n    position,\n  },\n});\n\nexport const positionSetRequestStarted = position => ({\n  type: POSITION_SET_REQUEST_STARTED,\n  payload: {\n    position,\n  },\n});\n\nexport const redoRequested = () => ({\n  type: REDO_REQUESTED,\n});\n\nexport const sequenceAdded = sequence => ({\n  type: SEQUENCE_ADDED,\n  payload: {\n    sequence,\n  },\n});\n\nexport const sequenceDeleted = sequence => ({\n  type: SEQUENCE_DELETED,\n  payload: {\n    sequence,\n  },\n});\n\nexport const sequenceDuplicated = (duplicatedSequence, originalSequence) => ({\n  type: SEQUENCE_DUPLICATED,\n  payload: {\n    duplicatedSequence,\n    originalSequence,\n  },\n});\n\nexport const sequenceEdited = sequence => ({\n  type: SEQUENCE_EDITED,\n  payload: {\n    sequence,\n  },\n});\n\nexport const sequenceEditorLoaded = (songId, sequenceId) => ({\n  type: SEQUENCE_EDITOR_LOADED,\n  payload: {\n    sequenceId,\n    songId,\n  },\n});\n\nexport const songAddRequestStarted = (options) => ({\n  type: SONG_ADD_REQUEST_STARTED,\n  payload: {\n    options,\n  },\n});\n\nexport const songAddRequestSucceeded = (song) => ({\n  type: SONG_ADD_REQUEST_SUCCEEDED,\n  payload: {\n    song,\n  },\n});\n\nexport const songDeleteRequestStarted = (song) => ({\n  type: SONG_DELETE_REQUEST_STARTED,\n  payload: {\n    song,\n  },\n});\n\nexport const songDeleteRequestSucceeded = (song) => ({\n  type: SONG_DELETE_REQUEST_SUCCEEDED,\n  payload: {\n    song,\n  },\n});\n\nexport const songEditorLoaded = songId => ({\n  type: SONG_EDITOR_LOADED,\n  payload: {\n    songId,\n  },\n});\n\nexport const songLoaded = song => ({\n  type: SONG_LOADED,\n  payload: {\n    song,\n  },\n});\n\nexport const syncStarted = () => ({\n  type: SYNC_STARTED,\n});\n\nexport const syncSucceeded = () => ({\n  type: SYNC_SUCCEEDED,\n});\n\nexport const trackAdded = (track, sequence) => ({\n  type: TRACK_ADDED,\n  payload: {\n    sequence,\n    track,\n  },\n});\n\nexport const trackDeleted = track => ({\n  type: TRACK_DELETED,\n  payload: {\n    track,\n  },\n});\n\nexport const trackIsMutedToggled = track => ({\n  type: TRACK_IS_MUTED_TOGGLED,\n  payload: {\n    track,\n  },\n});\n\nexport const trackIsSoloingToggled = track => ({\n  type: TRACK_IS_SOLOING_TOGGLED,\n  payload: {\n    track,\n  },\n});\n\nexport const trackVoiceSet = (track, voice) => ({\n  type: TRACK_VOICE_SET,\n  payload: {\n    track,\n    voice,\n  },\n});\n\nexport const trackVolumeSet = (track, volume) => ({\n  type: TRACK_VOLUME_SET,\n  payload: {\n    track,\n    volume,\n  },\n});\n\nexport const undoRequested = () => ({\n  type: UNDO_REQUESTED,\n});\n\nexport const userSignInSucceeded = (user) => ({\n  type: USER_SIGN_IN_SUCCEEDED,\n  payload: {\n    user,\n  },\n});\n\nexport const userSignOutSucceeded = () => ({\n  type: USER_SIGN_OUT_SUCCEEDED,\n});\n\nexport const userSongLibraryFetchRequestSucceeded = (userSongLibrary) => ({\n  type: USER_SONG_LIBRARY_FETCH_REQUEST_SUCCEEDED,\n  payload: {\n    userSongLibrary,\n  },\n});\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Draggable from \"react-draggable\";\nimport styled from \"styled-components/macro\";\n\nconst BoxResizer = styled.div.attrs({\n  className: \"box__resizer\"\n})(props => ({\n  backgroundColor: \"transparent\",\n  bottom: \"0\",\n  cursor: \"col-resize\",\n  left: \"0\",\n  position: \"absolute\",\n  top: \"0\",\n  width: props.theme.margin.m,\n  zIndex: \"2\"\n}));\n\nconst StyledBox = styled.div(props => ({\n  display: \"flex\",\n  flexDirection: \"column\",\n  height: \"100%\",\n  left: 0,\n  position: \"absolute\",\n  top: 0,\n  transition: \"transform 200ms ease\",\n  width: props.length * props.step,\n  zIndex: props.isDragging ? \"200\" : \"100\"\n}));\n\nexport class Box extends React.Component {\n  static propTypes = {\n    contentComponent: PropTypes.func,\n    item: PropTypes.shape({\n      id: PropTypes.any,\n      x: PropTypes.number,\n      length: PropTypes.number\n    }),\n    onItemChange: PropTypes.func,\n    step: PropTypes.number,\n    style: PropTypes.object\n  };\n\n  static defaultProps = {\n    contentComponent: () => null,\n    step: 100\n  };\n\n  state = {\n    isDragging: false\n  };\n\n  render() {\n    return (\n      <Draggable\n        axis=\"x\"\n        bounds=\"parent\"\n        cancel=\".box__resizer\"\n        grid={[this.props.step, 0]}\n        key={this.props.item.id}\n        onDrag={this.handleDrag}\n        onStart={() => this.setState({ isDragging: true })}\n        onStop={() => this.setState({ isDragging: false })}\n        position={this.getPosition()}\n      >\n        <StyledBox\n          isDragging={this.state.isDragging}\n          length={this.props.item.length}\n          step={this.props.step}\n          style={this.props.style}\n        >\n          {React.createElement(this.props.contentComponent, {\n            isDragging: this.state.isDragging,\n            item: this.props.item,\n            step: this.props.step\n          })}\n          <Draggable\n            axis=\"x\"\n            bounds={{\n              left: this.props.step - 16\n            }}\n            grid={[this.props.step, 0]}\n            onDrag={this.handleResizerDrag}\n            position={this.getResizerPosition()}\n          >\n            <BoxResizer />\n          </Draggable>\n        </StyledBox>\n      </Draggable>\n    );\n  }\n\n  getPosition = () => ({\n    x: this.props.item.x * this.props.step,\n    y: 0\n  });\n\n  getResizerPosition = () => ({\n    x: this.props.item.length * this.props.step - 16,\n    y: 0\n  });\n\n  handleDrag = (e, position) => {\n    this.props.onItemChange({\n      ...this.props.item,\n      x: position.x / this.props.step\n    });\n  };\n\n  handleResizerDrag = (e, position) => {\n    this.props.onItemChange({\n      ...this.props.item,\n      length: Math.max(\n        1,\n        this.props.item.length + position.deltaX / this.props.step\n      )\n    });\n  };\n}\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport { Box } from \"../Box/Box\";\n\nconst StyledBoxes = styled.div(props => ({\n  position: \"relative\",\n  width: props.length * props.step\n}));\n\nexport class Boxes extends React.Component {\n  static propTypes = {\n    boxContentComponent: PropTypes.func,\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.any,\n        x: PropTypes.number,\n        length: PropTypes.number\n      })\n    ),\n    length: PropTypes.number,\n    onItemsChange: PropTypes.func,\n    step: PropTypes.number,\n    style: PropTypes.object\n  };\n\n  static defaultProps = {\n    length: 0,\n    step: 100,\n    style: {}\n  };\n\n  state = {\n    draggedItemId: \"\"\n  };\n\n  render() {\n    return (\n      <StyledBoxes\n        length={this.props.length}\n        step={this.props.step}\n        style={this.props.style}\n      >\n        {this.getBoxes().map(item => (\n          <Box\n            contentComponent={this.props.boxContentComponent}\n            key={item.id}\n            onItemChange={this.handleBoxItemChange}\n            step={this.props.step}\n            item={item}\n          />\n        ))}\n      </StyledBoxes>\n    );\n  }\n\n  getBoxes = () => this.props.items.filter(i => i.x < this.props.length);\n\n  handleBoxItemChange = draggedItem => {\n    this.setState({\n      draggedItemId: draggedItem.id\n    });\n\n    this.props.onItemsChange(\n      this.props.items.map(item => {\n        if (item.id !== draggedItem.id) return item;\n\n        return draggedItem;\n      })\n    );\n  };\n}\n","import Button from \"@material-ui/core/Button\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nDownloadButton.propTypes = {\n  fileContents: PropTypes.string.isRequired,\n  filename: PropTypes.string.isRequired\n};\n\nexport function DownloadButton({ filename, fileContents, ...rest }) {\n  return (\n    <Button\n      download={filename}\n      href={`data:text/json;charset=utf-8,${encodeURIComponent(fileContents)}`}\n      {...rest}\n    />\n  );\n}\n","/* eslint-disable */\nexport default {\n  'arrow-down': require('react-icons/lib/fa/arrow-down'),\n  'arrow-left': require('react-icons/lib/fa/arrow-left'),\n  'arrow-right': require('react-icons/lib/fa/arrow-right'),\n  'arrow-up': require('react-icons/lib/fa/arrow-up'),\n  'caret-down': require('react-icons/lib/fa/caret-down'),\n  'chevron-left': require('react-icons/lib/fa/chevron-left'),\n  'chevron-right': require('react-icons/lib/fa/chevron-right'),\n  'cog': require('react-icons/lib/fa/cog'),\n  'clone': require('react-icons/lib/fa/clone'),\n  'close': require('react-icons/lib/fa/close'),\n  'eraser': require('react-icons/lib/fa/eraser'),\n  'hand-paper-o': require('react-icons/lib/fa/hand-paper-o'),\n  'long-arrow-down': require('react-icons/lib/fa/long-arrow-down'),\n  'long-arrow-left': require('react-icons/lib/fa/long-arrow-left'),\n  'long-arrow-right': require('react-icons/lib/fa/long-arrow-right'),\n  'long-arrow-up': require('react-icons/lib/fa/long-arrow-up'),\n  'mouse-pointer': require('react-icons/lib/fa/mouse-pointer'),\n  'pause': require('react-icons/lib/fa/pause'),\n  'pencil': require('react-icons/lib/fa/pencil'),\n  'play': require('react-icons/lib/fa/play'),\n  'plus': require('react-icons/lib/fa/plus'),\n  'redo': require('react-icons/lib/fa/repeat'),\n  'stop': require('react-icons/lib/fa/stop'),\n  'trash': require('react-icons/lib/fa/trash'),\n  'undo': require('react-icons/lib/fa/rotate-left'),\n};\n","import classnames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled, { ThemeConsumer } from \"styled-components/macro\";\nimport icons from \"./icons\";\n\nconst IconContent = styled.div({\n  alignItems: \"center\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 24,\n  justifyContent: \"center\",\n  width: 24\n});\n\nconst StyledIcon = styled.div({\n  alignItems: \"center\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 40,\n  justifyContent: \"center\",\n  width: 40\n});\n\nexport class Icon extends React.PureComponent {\n  static propTypes = {\n    color: PropTypes.string,\n    icon: PropTypes.oneOf(Object.keys(icons).concat([\"\"])),\n    size: PropTypes.oneOf([\"small\", \"regular\", \"large\", \"\"])\n  };\n\n  render() {\n    return (\n      <ThemeConsumer>\n        {theme => (\n          <StyledIcon color={this.props.color}>\n            <IconContent>{this.getIcon(theme)}</IconContent>\n          </StyledIcon>\n        )}\n      </ThemeConsumer>\n    );\n  }\n\n  getClassName = () => classnames(\"icon\", this.props.className);\n\n  getIcon(theme) {\n    const iconComponent = icons[this.props.icon];\n\n    if (!iconComponent) return null;\n\n    return React.createElement(iconComponent, {\n      color: this.props.color || theme.color,\n      size: this.getSizePixels()\n    });\n  }\n\n  getSizePixels() {\n    switch (this.props.size) {\n      case \"large\":\n        return 24;\n      case \"small\":\n        return 12;\n      default:\n        return 20;\n    }\n  }\n}\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport { Icon } from \"../Icon/Icon\";\n\nconst IconButtonBackground = styled.div(props => ({\n  backgroundColor: props.isActive ? \"rgba(255, 255, 255, 0.25)\" : \"\",\n  flex: \"1 0 auto\"\n}));\n\nconst IconButtonIconWrapper = styled.div(props => ({\n  opacity: props.isDisabled ? 0.5 : \"\",\n  position: \"absolute\"\n}));\n\nconst StyledIconButton = styled.div(props => ({\n  alignItems: \"stretch\",\n  cursor: props.isDisabled ? \"not-allowed\" : \"pointer\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  flexDirection: \"column\",\n  height: 40,\n  position: \"relative\",\n  transform: \"scale(1)\",\n  transition: \"transform 200ms ease\",\n  width: 40,\n  \"&:hover\": {\n    transform: !(props.isActive || props.isDisabled) ? \"scale(1.1)\" : \"\"\n  },\n  \"&:active\": {\n    transform: !props.isDisabled ? \"scale(0.9)\" : \"\"\n  }\n}));\n\nexport class IconButton extends React.PureComponent {\n  static propTypes = {\n    className: PropTypes.string,\n    color: PropTypes.string,\n    getRef: PropTypes.func,\n    icon: PropTypes.string,\n    iconProps: PropTypes.object,\n    isActive: PropTypes.bool,\n    isDisabled: PropTypes.bool,\n    onClick: PropTypes.func,\n    size: PropTypes.oneOf([\"small\", \"regular\", \"large\", \"\"]),\n    style: PropTypes.object,\n    title: PropTypes.string\n  };\n\n  static defaultProps = {\n    iconProps: {}\n  };\n\n  render() {\n    return (\n      <StyledIconButton\n        className={this.props.className}\n        isActive={this.props.isActive}\n        isDisabled={this.props.isDisabled}\n        onClick={this.handleClick}\n        ref={this.props.getRef}\n        style={this.props.style}\n        title={this.props.title}\n      >\n        <IconButtonBackground isActive={this.props.isActive} />\n        <IconButtonIconWrapper isDisabled={this.props.isDisabled}>\n          <Icon\n            color={this.props.color}\n            icon={this.props.icon}\n            size={this.props.size}\n            {...this.props.iconProps}\n          />\n        </IconButtonIconWrapper>\n      </StyledIconButton>\n    );\n  }\n\n  handleClick = e => {\n    if (this.props.isDisabled) return;\n\n    this.props.onClick(e);\n  };\n}\n","export function getCenteredScroll(el) {\n  return el.scrollHeight / 2 - el.offsetHeight / 2;\n}\n","import getOr from \"lodash/fp/getOr\";\nimport omit from \"lodash/fp/omit\";\n\n/* eslint-disable react/forbid-foreign-prop-types */\nexport const getExtraProps = instance =>\n  omit(Object.keys(getOr({}, 'constructor.propTypes', instance)), instance.props);\n","import includes from \"lodash/fp/includes\";\nimport without from \"lodash/fp/without\";\n\nexport function toggleInArray(item, array) {\n  return includes(item, array) ? without([item], array) : [...array, item];\n}\n","import classnames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport { getExtraProps } from \"../../helpers\";\n\nconst StyledMatrixBox = styled.div({\n  display: \"flex\",\n  flex: \"1 0 auto\",\n  position: \"relative\"\n});\n\nexport class MatrixBox extends React.Component {\n  static propTypes = {\n    fill: PropTypes.string,\n    height: PropTypes.number,\n    width: PropTypes.number,\n    matrix: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number))\n  };\n\n  shouldComponentUpdate(nextProps) {\n    return (\n      nextProps.height !== this.props.height ||\n      nextProps.width !== this.props.width\n    );\n  }\n\n  render() {\n    const height = this.props.height + 3;\n    const width = this.props.width + 3;\n\n    return (\n      <StyledMatrixBox {...getExtraProps(this)}>\n        <svg\n          height={height}\n          style={{\n            marginLeft: -1,\n            marginRight: -1,\n            marginTop: -1,\n            marginBottom: -1\n          }}\n          width={width}\n          viewBox={`0 0 ${width} ${height}`}\n          dangerouslySetInnerHTML={{\n            __html: this.getData()\n          }}\n        />\n      </StyledMatrixBox>\n    );\n  }\n\n  getClassName = () => classnames(\"matrix-box\", this.props.className);\n\n  getData = () => {\n    const rowCount = this.props.matrix.length;\n    let data = '<path d=\"';\n\n    for (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n      const row = this.props.matrix[rowIndex];\n      const columnCount = row.length;\n      const top = rowIndex * (this.props.height / (rowCount - 1));\n      for (var columnIndex = 0; columnIndex < row.length; columnIndex++) {\n        const nodeType = row[columnIndex];\n        const left = columnIndex * (this.props.width / (columnCount - 1));\n        const nodeData = this.getNodeData(nodeType, left, top);\n        data = data + nodeData;\n      }\n    }\n\n    data = data + `\" fill=\"${this.props.fill}\"/>`;\n\n    return data;\n  };\n\n  getNodeData = (nodeType, left, top) => {\n    if (nodeType === 1) {\n      return `M ${left + 1},${top + 1} l1,0 l0,1 l-1,0 l0,-1`;\n    }\n\n    if (nodeType === 2) {\n      return `M ${left},${top +\n        1} l1,0 l0,-1 l1,0 l0,1 l1,0 l0,1 l-1,0 l0,1 l-1,0 l0,-1 l-1,0 l0,-1`;\n    }\n\n    return \"\";\n  };\n}\n","import styled from \"styled-components/macro\";\n\nexport const Shell = styled.div(props => ({\n  backgroundColor: props.theme.backgroundColor,\n  color: props.theme.almostwhite,\n  bottom: 0,\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  left: 0,\n  overflow: \"hidden\",\n  position: \"absolute\",\n  right: 0,\n  top: 0\n}));\n","import styled from \"styled-components/macro\";\n\nexport const Timeline = styled.div.attrs(props => ({\n  style: {\n    ...props.style,\n    transform: `translateX(${props.offset}px)`\n  }\n}))(props => ({\n  backgroundColor: props.theme.almostwhite,\n  bottom: 0,\n  display: props.isVisible ? \"block\" : \"none\",\n  left: 0,\n  opacity: 0.25,\n  pointerEvents: \"none\",\n  position: \"absolute\",\n  top: 0,\n  width: 2\n}));\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport { getExtraProps } from \"../../helpers\";\n\nconst StyledToolbar = styled.div(props => ({\n  alignItems: \"stretch\",\n  backgroundColor: props.theme.greystone,\n  borderTop: `1px solid ${props.theme.midgray}`,\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 56,\n  paddingLeft: props.theme.margin.s,\n  paddingRight: props.theme.margin.s,\n  position: \"relative\"\n}));\n\nconst ToolbarLeftItems = styled.div({\n  alignItems: \"center\",\n  display: \"flex\",\n  flex: \"1 1 auto\"\n});\n\nconst ToolbarRightItems = styled.div({\n  alignItems: \"center\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  marginLeft: \"auto\"\n});\n\nexport class Toolbar extends React.Component {\n  static propTypes = {\n    isAlternate: PropTypes.bool,\n    leftItems: PropTypes.node,\n    leftItemsAlt: PropTypes.node,\n    rightItems: PropTypes.node,\n    rightItemsAlt: PropTypes.node\n  };\n\n  static defaultProps = {\n    leftItems: [],\n    leftItemsAlt: [],\n    rightItems: [],\n    rightItemsAlt: []\n  };\n\n  render() {\n    return (\n      <StyledToolbar {...getExtraProps(this)}>\n        <ToolbarLeftItems>{this.getLeftItems()}</ToolbarLeftItems>\n        <ToolbarRightItems>{this.getRightItems()}</ToolbarRightItems>\n      </StyledToolbar>\n    );\n  }\n\n  getLeftItems() {\n    return this.props.isAlternate\n      ? this.props.leftItemsAlt\n      : this.props.leftItems;\n  }\n\n  getRightItems() {\n    return this.props.isAlternate\n      ? this.props.rightItemsAlt\n      : this.props.rightItems;\n  }\n}\n","import React from 'react';\nimport { animated, useTransition } from 'react-spring';\n\nexport const FadeIn = ({ children, component, isVisible }) => {\n  const transition = useTransition(isVisible, null, {\n    enter: { opacity: 1 },\n    from: { opacity: 0 },\n  });\n\n  return transition.map(({ item, key, props }) => (item &&\n    React.createElement(component || animated.div, {\n      style: props,\n      key,\n    }, children)\n  ));\n}\n","import React from 'react';\nimport { animated, useTransition } from 'react-spring';\n\nexport const FadeOut = ({ children, component, isVisible }) => {\n  const transition = useTransition(isVisible, null, {\n    from: { opacity: 1 },\n    leave: { opacity: 0 },\n  });\n\n  return transition.map(({ item, key, props }) => (item &&\n    React.createElement(component || animated.div, {\n      style: props,\n      key,\n    }, children)\n  ));\n}\n","import { isEmpty } from \"lodash/fp\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport { showIf } from \"react-render-helpers\";\n\nconst reader = new FileReader();\n\nconst StyledUploadOverlay = styled.div({\n  bottom: 0,\n  left: 0,\n  overflow: \"hidden\",\n  position: \"fixed\",\n  right: 0,\n  top: 0,\n  zIndex: 550\n});\n\nconst UploadOverlayTint = styled.div({\n  alignItems: \"center\",\n  backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  bottom: 0,\n  display: \"flex\",\n  justifyContent: \"center\",\n  left: 0,\n  overflow: \"hidden\",\n  pointerEvents: \"none\",\n  position: \"absolute\",\n  right: 0,\n  top: 0,\n  zIndex: \"inherit\"\n});\n\nconst UploadOverlayDragIndicator = styled.div(props => ({\n  alignItems: \"center\",\n  backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  borderRadius: 4,\n  display: \"flex\",\n  justifyContent: \"center\",\n  padding: props.theme.margin.m,\n  pointerEvents: \"none\",\n  zIndex: \"inherit\"\n}));\n\nexport class UploadOverlay extends React.PureComponent {\n  static propTypes = {\n    isFileOver: PropTypes.bool.isRequired,\n    onCancel: PropTypes.func.isRequired,\n    onUpload: PropTypes.func.isRequired\n  };\n\n  render() {\n    return showIf(this.props.isFileOver)(\n      <StyledUploadOverlay\n        onDragLeave={this.handleDragLeave}\n        onDragOver={this.handleDragOver}\n        onDrop={this.handleDrop}\n      >\n        <UploadOverlayTint>\n          <UploadOverlayDragIndicator className=\"upload-overlay__tint__drag-indicator\">\n            Drop project file to load it\n          </UploadOverlayDragIndicator>\n        </UploadOverlayTint>\n      </StyledUploadOverlay>\n    );\n  }\n\n  handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n  };\n\n  handleDragLeave = () => {\n    this.props.onCancel();\n  };\n\n  handleDrop = e => {\n    const files = e.dataTransfer.files;\n    if (!isEmpty(files)) {\n      getFileContents(files[0])\n        .then(this.props.onUpload)\n        .catch(this.props.onCancel);\n    } else {\n      this.props.onCancel();\n    }\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n  };\n}\n\nfunction getFileContents(file) {\n  return new Promise(resolve => {\n    reader.onload = e => {\n      const data = e.target.result;\n      reader.onload = undefined;\n      resolve(JSON.parse(data));\n    };\n    reader.readAsText(file);\n  });\n}\n","import * as firebase from \"firebase/app\";\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyCqOmjU9tOG_qpc5cMuBhKk5pJGL76LYcY\",\n  authDomain: \"zen-sequencer.firebaseapp.com\",\n  databaseURL: \"https://zen-sequencer.firebaseio.com\",\n  projectId: \"zen-sequencer\",\n  storageBucket: \"zen-sequencer.appspot.com\",\n  messagingSenderId: \"904455678701\"\n});\n\nexport const NAME = \"shared\";\n\nexport const authProvider =\n  !!firebase.auth && new firebase.auth.GoogleAuthProvider();\n\nexport const db = !!firebase.firestore && firebase.firestore();\n\nexport const SYNC_STATES = {\n  FAILED: \"FAILED\",\n  SYNCED: \"SYNCED\",\n  SYNCING: \"SYNCING\"\n};\n","import i18n from \"i18next\";\nimport detector from \"i18next-browser-languagedetector\";\nimport { initReactI18next } from \"react-i18next\";\nimport resources from \"./resources\";\n\ni18n\n  .use(detector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: \"en\",\n    keySeparator: false,\n    lng: \"en\",\n    resources\n  });\n\nexport default i18n;\n","export default {\n\ten: {\n    translation: {\n      'Delete': 'Delete',\n      'Download Song': 'Download Song',\n      'Edit Track': 'Edit Track',\n\t\t\t'English': 'English',\n\t\t\t'Japanese': 'Japanese',\n      PWM: 'PWM',\n      'Return to Dashboard': 'Return to Dashboard',\n\t\t\tSAWTOOTH: 'Sawtooth',\n\t\t  'Select Language': 'Select Language',\n      'Sign In': 'Sign In',\n      'Sign in with Google': 'Sign in with Google',\n      'Sign Out': 'Sign Out',\n      'Signing Out': 'Signing Out...',\n\t\t\tSINE: 'Sine',\n      'Song Info': 'Song Info',\n      SQUARE: 'Square',\n      TRIANGLE: 'Triangle',\n      'Voice': 'Voice',\n      'Volume': 'Volume',\n\t\t},\n  },\n  jp: {\n\t\ttranslation: {\n      'Delete': '削除',\n      'Download Song': 'ソングをダウンロード',\n\t\t\t'Edit Track': 'トラックを編集',\n\t\t\t'English': '英語',\n\t\t\t'Japanese': '日本語',\n      PWM: 'PWM',\n      'Return to Dashboard': 'ダッシュボードに戻る',\n      SAWTOOTH: 'のこぎり',\n      'Select Language': '言語を選択する',\n      'Sign In': 'ログイン',\n      'Sign in with Google': 'Googleでログイン',\n      'Sign Out': 'ログアウト',\n      'Signing Out': 'ログアウトがしています。。。',\n\t\t\tSINE: 'サイン',\n      'Song Info': 'ソングの情報',\n      SQUARE: 'スクエア',\n      TRIANGLE: '三角',\n      'Voice': '音声',\n      'Volume': 'ボリューム',\n\t\t},\n  },\n}\n","import { interactionOverlay } from './interactionOverlay';\n\nexport const mixins = {\n  interactionOverlay,\n};\n","export const interactionOverlay = (baseBgColor) => `\n\t&::after {\n\t\tbackground-color: ${baseBgColor};\n\t\tbottom: 0;\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tleft: 0;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 0;\n\t}\n\t&:hover::after {\n\t\topacity: 0.075;\n\t}\n\t&:active::after {\n\t\topacity: 0.15;\n\t}\n`;\n","const almostblack = '#1f1f1f';\nconst greystone =   '#272727';\nconst midgray =     '#454545';\nconst ashgray =     '#E0E0E0';\nconst almostwhite = '#EBEBEB';\n\nexport const base = {\n  backgroundColor: almostblack,\n  color: almostwhite,\n  borderRadius: 2,\n  danger: '#FE7C7C',\n  margin: {\n    xs: 4,\n    s: 8,\n    m: 16,\n    l: 32,\n    xl: 64,\n  },\n  minWidthWidescreen: 768,\n  subtext: '#5C5C5C',\n  almostblack,\n  almostwhite,\n  ashgray,\n  greystone,\n  midgray,\n};\n","import { emerald } from \"./emerald\";\nimport { mui } from \"./mui\";\n\nexport const themes = {\n  emerald,\n  mui\n};\n","import { base } from './base';\n\nexport const emerald = {\n  ...base,\n  primary: [\n    '#7BFFF2',\n    '#6AFFB7',\n    '#2BEAA4',\n    '#29965A',\n    '#2A6043',\n  ],\n};\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\n// Default theme reference: https://material-ui.com/customization/default-theme/\nexport const mui = createMuiTheme({\n  palette: {\n    type: \"dark\"\n  },\n  typography: {\n    fontFamily: [\n      'Open Sans',\n      'Helvetica',\n      'sans-serif'\n    ],\n    useNextVariants: true\n  }\n});\n","import * as actions from './actions';\nimport * as components from './components';\nimport * as constants from './constants';\nimport * as helpers from './helpers';\nimport i18n from './i18n';\nimport * as styles from './styles';\n\nexport default {\n  actions,\n  components,\n  constants,\n  helpers,\n  i18n,\n  styles,\n};\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getFocusedSequenceId =\n  getOr('', `${NAME}.focusedSequenceId`);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getPlaybackState =\n  getOr('', `${NAME}.playbackState`);\n","import Dawww from 'dawww';\nimport compose from 'lodash/fp/compose';\nimport isEqual from 'lodash/fp/isEqual';\nimport { getPlaybackState } from './getPlaybackState';\n\nexport const getIsStopped = compose(\n  isEqual(Dawww.PLAYBACK_STATES.STOPPED),\n  getPlaybackState,\n);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getPosition =\n  getOr(0, `${NAME}.position`);\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport dawww from '../dawww';\nimport * as selectors from '../selectors';\n\nexport const loadSong = createLogic({\n  type: shared.actions.SONG_LOADED,\n  process({ action, getState }, dispatch, done) {\n    const focusedSequenceId = selectors.getFocusedSequenceId(getState());\n\n    dawww.updateSong({\n      ...action.payload.song,\n      focusedSequenceId,\n    });\n\n    done();\n  },\n});\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport dawww from '../dawww';\n\nexport const pause = createLogic({\n  type: shared.actions.PLAYBACK_PAUSE_REQUEST_STARTED,\n  process(args, dispatch, done) {\n    dawww.pause();\n\n    done();\n  },\n});\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport dawww from '../dawww';\n\nexport const setPosition = createLogic({\n  type: shared.actions.POSITION_SET_REQUEST_STARTED,\n  process({ action }, dispatch, done) {\n    dawww.setPosition(action.payload.position);\n\n    done();\n  },\n});\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport dawww from '../dawww';\n\nexport const start = createLogic({\n  type: shared.actions.PLAYBACK_START_REQUEST_STARTED,\n  process(args, dispatch, done) {\n    dawww.start();\n\n    done();\n  },\n});\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport dawww from '../dawww';\n\nexport const stop = createLogic({\n  type: shared.actions.PLAYBACK_STOP_REQUEST_STARTED,\n  process(args, dispatch, done) {\n    dawww.stop();\n\n    done();\n  },\n});\n","import { createLogic } from \"redux-logic\";\nimport * as selectors from \"../selectors\";\nimport shared from \"../../shared\";\nimport dawww from \"../dawww\";\n\nexport const subscribeToPosition = createLogic({\n  type: shared.actions.INITIALIZED,\n  processOptions: { dispatchMultiple: true },\n  warnTimeout: 0,\n  process({ getState }, dispatch) {\n    dawww.onPositionChange(position => {\n      const prevPosition = selectors.getPosition(getState());\n\n      if (position === prevPosition) return;\n\n      dispatch(shared.actions.positionRequestSucceeded(position));\n    });\n  }\n});\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport dawww from '../dawww';\n\nexport const subscribeToState = createLogic({\n  type: shared.actions.INITIALIZED,\n  processOptions: { dispatchMultiple: true },\n  warnTimeout: 0,\n  process(args, dispatch) {\n    dawww.onStateChange((playbackState) => {\n      dispatch(shared.actions.playbackStateRequestSucceeded(playbackState));\n    });\n  },\n});\n","export const NAME = 'song';\n","import shared from '../../shared';\n\nconst { db } = shared.constants;\n\nexport const fetchSongById = (id) =>\n\tdb.collection('songs').doc(id).get().then(doc => doc.data());\n","import shared from '../../shared';\n\nconst { db } = shared.constants;\n\nexport const updateSong = (song) => new Promise((resolve) => {\n\tdb.collection('songs').doc(song.id).update(song).then(resolve);\n});\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getBPM =\n  getOr(0, `${NAME}.present.bpm`);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getNotes =\n  getOr({}, `${NAME}.present.notes`);\n","import getOr from 'lodash/fp/getOr';\nimport pipe from 'lodash/fp/pipe';\nimport { getNotes } from './getNotes';\n\nexport const getNoteById = id => pipe(\n  getNotes,\n  getOr({}, id),\n);\n","import pipe from 'lodash/fp/pipe';\nimport map from 'lodash/fp/map';\nimport { getNoteById } from './getNoteById';\nimport { getNotes } from './getNotes';\n\nexport const getNotesArray = state => pipe(\n  getNotes,\n  Object.keys,\n  map(id => getNoteById(id)(state)),\n)(state);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getSequences =\n  getOr({}, `${NAME}.present.sequences`);\n","import getOr from 'lodash/fp/getOr';\nimport pipe from 'lodash/fp/pipe';\nimport { getSequences } from './getSequences';\n\nexport const getSequenceById = id => pipe(\n  getSequences,\n  getOr({}, id),\n);\n","import pipe from 'lodash/fp/pipe';\nimport map from 'lodash/fp/map';\nimport { getSequenceById } from './getSequenceById';\nimport { getSequences } from './getSequences';\n\nexport const getSequencesArray = state => pipe(\n  getSequences,\n  Object.keys,\n  map(id => getSequenceById(id)(state)),\n)(state);\n","import filter from 'lodash/fp/filter';\nimport pipe from 'lodash/fp/pipe';\nimport map from 'lodash/fp/map';\nimport { getNotesArray } from './getNotesArray';\nimport { getSequencesArray } from './getSequencesArray';\n\nconst getDeepSequence = state => sequence => ({\n  ...sequence,\n  notes: pipe(\n    getNotesArray,\n    filter({ sequenceId: sequence.id }),\n  )(state),\n});\n\nexport const getDeepSequences = state =>\n  pipe(\n    getSequencesArray,\n    map(getDeepSequence(state)),\n  )(state);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getTracks =\n  getOr({}, `${NAME}.present.tracks`);\n","import getOr from 'lodash/fp/getOr';\nimport pipe from 'lodash/fp/pipe';\nimport { getTracks } from './getTracks';\n\nexport const getTrackById = id => pipe(\n  getTracks,\n  getOr({}, id),\n);\n","import pipe from 'lodash/fp/pipe';\nimport map from 'lodash/fp/map';\nimport { getTrackById } from './getTrackById';\nimport { getTracks } from './getTracks';\n\nexport const getTracksArray = state => pipe(\n  getTracks,\n  Object.keys,\n  map(id => getTrackById(id)(state)),\n)(state);\n","import filter from 'lodash/fp/filter';\nimport pipe from 'lodash/fp/pipe';\nimport map from 'lodash/fp/map';\nimport { getDeepSequences } from './getDeepSequences';\nimport { getTracksArray } from './getTracksArray';\n\nconst getDeepTrack = state => track => ({\n  ...track,\n  sequences: pipe(\n    getDeepSequences,\n    filter({ trackId: track.id }),\n  )(state),\n});\n\nexport const getDeepTracks = state =>\n  pipe(\n    getTracksArray,\n    map(getDeepTrack(state)),\n  )(state);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getId =\n  getOr('', `${NAME}.present.id`);\n","import compose from 'lodash/fp/compose';\nimport getOr from 'lodash/fp/getOr';\nimport isEmpty from 'lodash/fp/isEmpty';\nimport negate from 'lodash/fp/negate';\nimport { NAME } from '../constants';\n\nexport const getIsRedoEnabled =\n  compose(\n    negate(isEmpty),\n    getOr(0, `${NAME}.future`),\n  );\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getIsSongLoading = state =>\n  !getOr('', `${NAME}.present.id`, state);\n","import compose from 'lodash/fp/compose';\nimport getOr from 'lodash/fp/getOr';\nimport isEmpty from 'lodash/fp/isEmpty';\nimport negate from 'lodash/fp/negate';\nimport { NAME } from '../constants';\n\nexport const getIsUndoEnabled =\n  compose(\n    negate(isEmpty),\n    getOr(0, `${NAME}.past`),\n  );\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getMeasureCount =\n  getOr(0, `${NAME}.present.measureCount`);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getName =\n  getOr('', `${NAME}.present.name`);\n","import filter from 'lodash/fp/filter';\nimport compose from 'lodash/fp/compose';\nimport { getNotesArray } from './getNotesArray';\n\nexport const getNotesBySequenceId = sequenceId => state =>\n  compose(\n    filter(note => note.sequenceId === sequenceId),\n    getNotesArray,\n  )(state);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getUserId =\n  getOr('', `${NAME}.present.userId`);\n","import { getBPM } from './getBPM';\nimport { getId } from './getId';\nimport { getMeasureCount } from './getMeasureCount';\nimport { getName } from './getName';\nimport { getNotes } from './getNotes';\nimport { getSequences } from './getSequences';\nimport { getTracks } from './getTracks';\nimport { getUserId } from './getUserId';\n\nexport const getSong = state => ({\n  bpm: getBPM(state),\n  id: getId(state),\n  measureCount: getMeasureCount(state),\n  name: getName(state),\n  notes: getNotes(state),\n  sequences: getSequences(state),\n  tracks: getTracks(state),\n  userId: getUserId(state),\n});\n","import pipe from 'lodash/fp/pipe';\nimport { getSong } from './getSong';\n\nexport const getStringifiedSong = pipe(\n  getSong,\n  JSON.stringify,\n);\n","import getOr from 'lodash/fp/getOr';\nimport shared from '../../shared';\nimport { NAME } from '../constants';\n\nconst { SYNC_STATES } = shared.constants;\n\nexport const getSyncState =\n  getOr(SYNC_STATES.SYNCED, `${NAME}.present.syncState`);\n","import isEmpty from 'lodash/fp/isEmpty';\nimport isEqual from 'lodash/fp/isEqual';\nimport { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport * as helpers from '../helpers';\nimport * as selectors from '../selectors';\n\nexport const fetchSongToEdit = createLogic({\n  type: [\n    shared.actions.SEQUENCE_EDITOR_LOADED,\n    shared.actions.SONG_EDITOR_LOADED,\n  ],\n  warnTimeout: 0,\n  process({ action, getState }, dispatch, done) {\n    helpers.fetchSongById(action.payload.songId).then((song) => {\n      const prevSong = selectors.getSong(getState());\n\n      if (isEmpty(song) || isEqual(prevSong, song)) {\n        done();\n        return;\n      }\n\n      dispatch(shared.actions.songLoaded(song));\n\n      done();\n    });\n  },\n});\n","import throttle from 'lodash/fp/throttle';\nimport { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport * as helpers from '../helpers';\nimport * as selectors from '../selectors';\n\nconst throttledUpdate = throttle(500, (song) => helpers.updateSong(song));\n\nexport const updateSongOnChange = createLogic({\n  type: shared.actions.serverUpdatingActions,\n  warnTimeout: 0,\n  process({ action, getState }, dispatch, done) {\n    const song = selectors.getSong(getState());\n    const songWithDateModified = {\n      ...song,\n      dateModified: Date.now(),\n    };\n\n    dispatch(shared.actions.syncStarted());\n\n    throttledUpdate(songWithDateModified)\n      .then(() => {\n        dispatch(shared.actions.syncSucceeded());\n        done();\n      })\n      .catch((error) => {\n        console.error('Error while updating song: ', error);\n      });\n  },\n});\n","import { fetchSongToEdit } from './fetchSongToEdit';\nimport { updateSongOnChange } from './updateSongOnChange';\n\nexport default [\n  fetchSongToEdit,\n  updateSongOnChange,\n];\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst initialValue = 120;\n\nexport const bpm = createReducer(initialValue, {\n  [shared.actions.BPM_SET]: (state, action) =>\n    action.payload.bpm,\n\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    initialValue,\n\n  [shared.actions.SONG_LOADED]: (state, action) =>\n    action.payload.song.bpm,\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst initialValue = '';\n\nexport const id = createReducer(initialValue, {\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    initialValue,\n\n  [shared.actions.SONG_LOADED]: (state, action) =>\n    action.payload.song.id,\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst initialValue = 1;\n\nexport const measureCount = createReducer(initialValue, {\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    initialValue,\n\n  [shared.actions.MEASURE_COUNT_SET]: (state, action) =>\n    action.payload.measureCount,\n\n  [shared.actions.SONG_LOADED]: (state, action) =>\n    action.payload.song.measureCount,\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst initialValue = '';\n\nexport const name = createReducer(initialValue, {\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    initialValue,\n\n  [shared.actions.SONG_LOADED]: (state, action) =>\n    action.payload.song.name,\n});\n","import Dawww from 'dawww';\nimport filter from 'lodash/fp/filter';\nimport map from 'lodash/fp/map';\nimport omit from 'lodash/fp/omit';\nimport values from 'lodash/fp/values';\nimport { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst initialValue = {};\nconst octaveDownDelta = { x: 0, y: 12 };\nconst octaveUpDelta = { x: 0, y: -12 };\n\n\nexport const notes = createReducer(initialValue, {\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    initialValue,\n\n  [shared.actions.SONG_LOADED]: (state, action) =>\n    action.payload.song.notes,\n\n  [shared.actions.NOTE_DRAWN]: (state, action) => {\n    const note = Dawww.createNote(\n      action.payload.sequence.id,\n      [action.payload.point, { x: action.payload.point.x + 1, y: action.payload.point.y }],\n    );\n\n    return {\n      ...state,\n      [note.id]: note,\n    };\n  },\n\n  [shared.actions.NOTE_ERASED]: (state, action) =>\n    omit(action.payload.note.id, state),\n\n  [shared.actions.NOTES_DELETED]: (state, action) =>\n    omit(map('id', action.payload.notes), state),\n\n  [shared.actions.NOTES_DRAGGED]: (state, action) =>\n    Dawww.setAtIds(action.payload.notes, state),\n\n  [shared.actions.NOTES_DUPLICATED]: (state, action) =>\n    Dawww.setAtIds(action.payload.notes, state),\n\n  [shared.actions.NOTES_MOVED_OCTAVE_DOWN]: (state, action) =>\n    Dawww.setAtIds(map(\n      Dawww.translateNote(octaveDownDelta),\n      action.payload.notes,\n    ), state),\n\n  [shared.actions.NOTES_MOVED_OCTAVE_UP]: (state, action) =>\n    Dawww.setAtIds(map(\n      Dawww.translateNote(octaveUpDelta),\n      action.payload.notes,\n    ), state),\n\n  [shared.actions.NOTES_NUDGED]: (state, action) =>\n    Dawww.setAtIds(map(Dawww.translateNote(\n      action.payload.delta),\n    action.payload.notes,\n    ), state),\n\n  [shared.actions.NOTES_RESIZED]: (state, action) =>\n    Dawww.setAtIds(action.payload.notes, state),\n\n  [shared.actions.SEQUENCE_DUPLICATED]: (state, action) => {\n    const isInSequence = note =>\n      note.sequenceId === action.payload.originalSequence.id;\n    const notesInSequence = filter(isInSequence, values(state));\n    const duplicatedNotes = Dawww.duplicateNotes(notesInSequence);\n    const notesWithNewSequenceId = duplicatedNotes.map(note => ({\n      ...note,\n      sequenceId: action.payload.duplicatedSequence.id,\n    }));\n\n    return Dawww.setAtIds(notesWithNewSequenceId, state);\n  },\n});\n","import Dawww from 'dawww';\nimport omit from 'lodash/fp/omit';\nimport reject from 'lodash/fp/reject';\nimport { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst initialValue = {};\n\nexport const sequences = createReducer(initialValue, {\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    initialValue,\n\n  [shared.actions.SONG_LOADED]: (state, action) =>\n    action.payload.song.sequences,\n\n  [shared.actions.SEQUENCE_ADDED]: (state, action) =>\n    Dawww.setAtIds([action.payload.sequence], state),\n\n  [shared.actions.SEQUENCE_DELETED]: (state, action) =>\n    omit(action.payload.sequence.id, state),\n\n  [shared.actions.SEQUENCE_DUPLICATED]: (state, action) =>\n    Dawww.setAtIds([action.payload.duplicatedSequence], state),\n\n  [shared.actions.SEQUENCE_EDITED]: (state, action) =>\n    Dawww.setAtIds([action.payload.sequence], state),\n\n  [shared.actions.TRACK_ADDED]: (state, action) =>\n    Dawww.setAtIds([action.payload.sequence], state),\n\n  [shared.actions.TRACK_DELETED]: (state, action) =>\n    Dawww.setAtIds(reject(sequence => sequence.trackId === action.payload.track.id, state), {}),\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst { SYNC_STATES } = shared.constants;\n\nexport const syncState = createReducer(SYNC_STATES.SYNCED, {\n  [shared.actions.SONG_ADD_REQUEST_STARTED]: (state, action) =>\n    SYNC_STATES.SYNCING,\n\n  [shared.actions.SONG_ADD_REQUEST_SUCCEEDED]: (state, action) =>\n    SYNC_STATES.SYNCED,\n\n  [shared.actions.SYNC_STARTED]: (state, action) =>\n    SYNC_STATES.SYNCING,\n\n  [shared.actions.SYNC_SUCCEEDED]: (state, action) =>\n    SYNC_STATES.SYNCED,\n});\n","import Dawww from 'dawww';\nimport omit from 'lodash/fp/omit';\nimport { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst initialValue = {};\n\nexport const tracks = createReducer(initialValue, {\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    initialValue,\n\n  [shared.actions.SONG_LOADED]: (state, action) =>\n    action.payload.song.tracks,\n\n  [shared.actions.TRACK_ADDED]: (state, action) =>\n    Dawww.setAtIds([action.payload.track], state),\n\n  [shared.actions.TRACK_DELETED]: (state, action) =>\n    omit(action.payload.track.id)(state),\n\n  [shared.actions.TRACK_IS_MUTED_TOGGLED]: (state, action) =>\n    Dawww.setAtIds([{\n      ...action.payload.track,\n      isMuted: !action.payload.track.isMuted,\n      isSoloing: false,\n    }], state),\n\n  [shared.actions.TRACK_IS_SOLOING_TOGGLED]: (state, action) =>\n    Dawww.setAtIds([{\n      ...action.payload.track,\n      isSoloing: !action.payload.track.isSoloing,\n      isMuted: false,\n    }], state),\n\n  [shared.actions.TRACK_VOICE_SET]: (state, action) =>\n    Dawww.setAtIds([{\n      ...action.payload.track,\n      voice: action.payload.voice,\n    }], state),\n\n  [shared.actions.TRACK_VOLUME_SET]: (state, action) =>\n    Dawww.setAtIds([{\n      ...action.payload.track,\n      volume: action.payload.volume,\n    }], state),\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nconst initialValue = '';\n\nexport const userId = createReducer(initialValue, {\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    initialValue,\n\n  [shared.actions.SONG_LOADED]: (state, action) =>\n    action.payload.song.userId,\n});\n","import { combineReducers } from 'redux';\nimport undoable, { includeAction } from 'redux-undo';\nimport shared from '../../shared';\nimport { bpm } from './bpm';\nimport { id } from './id';\nimport { measureCount } from './measureCount';\nimport { name } from './name';\nimport { notes } from './notes';\nimport { sequences } from './sequences';\nimport { syncState } from './syncState';\nimport { tracks } from './tracks';\nimport { userId } from './userId';\n\nconst rootReducer = combineReducers({\n  bpm,\n  id,\n  measureCount,\n  name,\n  notes,\n  sequences,\n  syncState,\n  tracks,\n  userId,\n});\n\nexport default undoable(rootReducer, {\n  clearHistoryType: [\n    shared.actions.SEQUENCE_EDITOR_LOADED,\n    shared.actions.SONG_EDITOR_LOADED,\n  ],\n  filter: includeAction(shared.actions.undoableActions),\n  redoType: shared.actions.REDO_REQUESTED,\n  syncFilter: true,\n  undoType: shared.actions.UNDO_REQUESTED,\n})\n","import * as constants from './constants';\nimport * as helpers from './helpers';\nimport logic from './logic';\nimport reducer from './reducer';\nimport * as selectors from './selectors';\n\nexport default {\n  constants,\n  helpers,\n  logic,\n  reducer,\n  selectors,\n};\n","import { loadSong } from './loadSong';\nimport { pause } from './pause';\nimport { setPosition } from './setPosition';\nimport { start } from './start';\nimport { stop } from './stop';\nimport { subscribeToPosition } from './subscribeToPosition';\nimport { subscribeToState } from './subscribeToState';\nimport { updateSong } from './updateSong';\n\nexport default [\n  loadSong,\n  pause,\n  setPosition,\n  start,\n  stop,\n  subscribeToPosition,\n  subscribeToState,\n  updateSong,\n];\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport song from '../../song';\nimport dawww from '../dawww';\nimport * as selectors from '../selectors';\n\nexport const updateSong = createLogic({\n  type: shared.actions.dawwwUpdatingActions,\n  process({ getState }, dispatch, done) {\n    const songState = song.selectors.getSong(getState());\n    const focusedSequenceId = selectors.getFocusedSequenceId(getState()) || '';\n\n    dawww.updateSong({\n      ...songState,\n      focusedSequenceId,\n    });\n\n    done();\n  },\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nexport default createReducer('', {\n  [shared.actions.SEQUENCE_EDITOR_LOADED]: (state, action) =>\n    action.payload.sequenceId,\n\n  [shared.actions.SONG_EDITOR_LOADED]: (state, action) =>\n    '',\n});\n","import Dawww from 'dawww';\nimport { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nexport default createReducer(Dawww.PLAYBACK_STATES.STOPPED, {\n  [shared.actions.PLAYBACK_STATE_REQUEST_SUCCEEDED]: (state, action) =>\n    action.payload.playbackState,\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nexport default createReducer(0, {\n  [shared.actions.POSITION_REQUEST_SUCCEEDED]: (state, action) =>\n    action.payload.position,\n});\n","import * as constants from './constants';\nimport * as helpers from './helpers';\nimport logic from './logic';\nimport reducer from './reducer';\nimport * as selectors from './selectors';\n\nexport default {\n  constants,\n  helpers,\n  logic,\n  reducer,\n  selectors,\n};\n","import { combineReducers } from 'redux';\nimport focusedSequenceId from './focusedSequenceId';\nimport playbackState from './playbackState';\nimport position from './position';\n\nexport default combineReducers({\n  focusedSequenceId,\n  playbackState,\n  position,\n});\n","export const NAME = 'user';\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getDidAuthenticationRun =\n  getOr(false, `${NAME}.didAuthenticationRun`);\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getUser =\n  getOr(null, `${NAME}.user`);\n","import isNil from 'lodash/fp/isNil';\nimport { getUser } from './getUser';\n\nexport const getIsAuthenticated = state =>\n  !isNil(getUser(state));\n","import getOr from 'lodash/fp/getOr';\nimport isEmpty from 'lodash/fp/isEmpty';\nimport { NAME } from '../constants';\n\nexport const getIsUserSongLibraryLoading = state =>\n  isEmpty(getOr({}, `${NAME}.userSongLibrary`, state));\n","import getOr from 'lodash/fp/getOr';\nimport { NAME } from '../constants';\n\nexport const getUserSongLibrary =\n  getOr({}, `${NAME}.userSongLibrary`);\n","import Dawww from 'dawww';\nimport { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport * as selectors from '../selectors';\n\nconst { db } = shared.constants;\n\nexport const addSong = createLogic({\n  type: shared.actions.SONG_ADD_REQUEST_STARTED,\n  warnTimeout: 0,\n  process({ action, getState }, dispatch, done) {\n    const user = selectors.getUser(getState());\n\n    const song = {\n  \t\t...Dawww.createSong(),\n      dateModified: Date.now(),\n  \t\tuserId: user.uid,\n      ...action.payload.options,\n  \t};\n\n  \tdb.collection('songs').doc(song.id).set(song)\n      .then(() => {\n        dispatch(shared.actions.songAddRequestSucceeded(song));\n        done();\n      })\n      .catch((error) => {\n        console.error('Error while adding song: ', error);\n      });\n  },\n});\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\n\nconst { db } = shared.constants;\n\nexport const deleteSong = createLogic({\n  type: shared.actions.SONG_DELETE_REQUEST_STARTED,\n  warnTimeout: 0,\n  process({ action }, dispatch, done) {\n    db.collection('songs').doc(action.payload.song.id).delete()\n      .then(() => {\n        dispatch(shared.actions.songDeleteRequestSucceeded(\n          action.payload.song,\n        ));\n        done();\n      })\n      .catch((error) => {\n        console.error('Error while deleting song: ', error);\n      });\n  },\n});\n","import { createLogic } from 'redux-logic';\nimport shared from '../../shared';\nimport * as selectors from '../selectors';\n\nconst { db } = shared.constants;\n\nexport const fetchUserSongLibrary = createLogic({\n  type: shared.actions.DASHBOARD_LOADED,\n  warnTimeout: 0,\n  process({ getState }, dispatch, done) {\n    const user = selectors.getUser(getState());\n\n    db.collection('songs').where('userId', '==', user.uid).get()\n  \t\t.then((querySnapshot) => {\n        const userSongLibrary = querySnapshot.docs.map(\n          doc => doc.data(),\n        );\n\n        dispatch(shared.actions.userSongLibraryFetchRequestSucceeded(\n          userSongLibrary,\n        ));\n\n        done();\n      });\n  },\n});\n","import { addSong } from './addSong';\nimport { deleteSong } from './deleteSong';\nimport { fetchUserSongLibrary } from './fetchUserSongLibrary';\nimport { subscribeToAuthState } from './subscribeToAuthState';\n\nexport default [\n  addSong,\n  deleteSong,\n  fetchUserSongLibrary,\n  subscribeToAuthState,\n];\n","import * as firebase from 'firebase/app';\nimport { createLogic } from 'redux-logic';\nimport shared from '../../shared';\n\nexport const subscribeToAuthState = createLogic({\n  type: shared.actions.INITIALIZED,\n  processOptions: { dispatchMultiple: true },\n  warnTimeout: 0,\n  process(_, dispatch, done) {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        dispatch(shared.actions.userSignInSucceeded(user));\n      } else {\n        dispatch(shared.actions.userSignOutSucceeded());\n      }\n    });\n  },\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nexport const didAuthenticationRun = createReducer(false, {\n  [shared.actions.USER_SIGN_IN_SUCCEEDED]: (state, action) =>\n    true,\n\n  [shared.actions.USER_SIGN_OUT_SUCCEEDED]: (state, action) =>\n    true,\n});\n","import { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nexport const user = createReducer(null, {\n  [shared.actions.USER_SIGN_IN_SUCCEEDED]: (state, action) =>\n    action.payload.user,\n\n  [shared.actions.USER_SIGN_OUT_SUCCEEDED]: (state, action) =>\n    null,\n});\n","import omit from 'lodash/fp/omit';\nimport Dawww from 'dawww';\nimport { createReducer } from 'redux-create-reducer';\nimport shared from '../../shared';\n\nexport const userSongLibrary = createReducer({}, {\n  [shared.actions.DASHBOARD_LOADED]: (state, action) =>\n    ({}),\n\n  [shared.actions.SONG_ADD_REQUEST_SUCCEEDED]: (state, action) =>\n    Dawww.setAtIds([action.payload.song], state),\n\n  [shared.actions.SONG_DELETE_REQUEST_SUCCEEDED]: (state, action) =>\n    omit(action.payload.song.id, state),\n\n  [shared.actions.USER_SONG_LIBRARY_FETCH_REQUEST_SUCCEEDED]: (state, action) =>\n    Dawww.setAtIds(action.payload.userSongLibrary, state),\n});\n","import * as constants from './constants';\nimport logic from './logic';\nimport reducer from './reducer';\nimport * as selectors from './selectors';\n\nexport default {\n  constants,\n  logic,\n  reducer,\n  selectors,\n};\n","import { combineReducers } from 'redux';\nimport { didAuthenticationRun } from './didAuthenticationRun';\nimport { user } from './user';\nimport { userSongLibrary } from './userSongLibrary';\n\nexport default combineReducers({\n  didAuthenticationRun,\n  user,\n  userSongLibrary,\n});\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\n\nconst { IconButton } = shared.components;\n\nconst SongListItemDeleteButton = styled(IconButton).attrs(props => ({\n  color: props.theme.almostwhite\n}))(props => ({\n  marginRight: props.theme.margin.s * -1\n}));\n\nconst SongListItemText = styled.div({\n  alignItems: \"center\",\n  alignSelf: \"stretch\",\n  color: \"white\",\n  display: \"flex\",\n  flex: \"1 1 auto\"\n});\n\nconst StyledSongListItem = styled.div(props => ({\n  alignItems: \"center\",\n  cursor: \"pointer\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 48,\n  paddingLeft: props.theme.margin.m,\n  paddingRight: props.theme.margin.m,\n  position: \"relative\"\n  // TODO: ${mixins.interactionOverlay('white')}\n}));\n\nexport class SongListItem extends React.Component {\n  static propTypes = {\n    onDelete: PropTypes.func,\n    onOpen: PropTypes.func,\n    song: PropTypes.object\n  };\n\n  render() {\n    return (\n      <StyledSongListItem>\n        <SongListItemText onClick={this.open}>\n          {this.props.song.name}\n        </SongListItemText>\n        <SongListItemDeleteButton icon=\"close\" onClick={this.delete} />\n      </StyledSongListItem>\n    );\n  }\n\n  delete = () => {\n    this.props.onDelete(this.props.song);\n  };\n\n  open = () => {\n    this.props.onOpen(this.props.song);\n  };\n}\n","import orderBy from \"lodash/fp/orderBy\";\nimport PropTypes from \"prop-types\";\nimport React, { useMemo } from \"react\";\nimport { animated, useTransition } from \"react-spring\";\nimport styled from \"styled-components/macro\";\nimport { SongListItem } from \"../SongListItem/SongListItem\";\n\nconst StyledSongList = styled.div(props => ({\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  paddingBottom: props.theme.margin.s,\n  paddingTop: props.theme.margin.s\n}));\n\nSongList.propTypes = {\n  onDelete: PropTypes.func,\n  onOpen: PropTypes.func,\n  songs: PropTypes.object\n};\n\n// TODO: Transition in songs in Song List to prevent duplicate entries on transition\nexport function SongList(props) {\n  const sortedSongs = useMemo(\n    () => orderBy(x => x.dateModified, \"desc\", Object.values(props.songs)),\n    [props.songs]\n  );\n\n  const songTransitions = useTransition(sortedSongs, song => song.id, {\n    config: {\n      clamp: true,\n      tension: 200\n    },\n    reset: true,\n    trail: 100,\n    unique: true,\n    from: {\n      height: 0,\n      marginLeft: -64,\n      opacity: 0\n    },\n    enter: {\n      height: 48,\n      marginLeft: 0,\n      opacity: 1\n    },\n    leave: {\n      height: 0,\n      marginLeft: 64,\n      opacity: 0\n    }\n  });\n\n  return (\n    <StyledSongList>\n      {songTransitions.map(({ item, key, props: animation }) => (\n        <animated.div key={key} style={animation}>\n          <SongListItem\n            onDelete={props.onDelete}\n            onOpen={props.onOpen}\n            song={item}\n          />\n        </animated.div>\n      ))}\n    </StyledSongList>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { hideIf } from \"react-render-helpers\";\nimport { animated } from \"react-spring\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\nimport { SongList } from \"../SongList/SongList\";\n\nconst { Icon, Toolbar, FadeOut } = shared.components;\n\nconst LoadingIndicator = styled(animated.div)({\n  alignItems: \"center\",\n  bottom: 0,\n  color: \"white\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  justifyContent: \"center\",\n  left: 0,\n  position: \"absolute\",\n  right: 0,\n  top: 0\n});\n\nconst DashboardCenteredContent = styled.div(props => ({\n  alignSelf: \"center\",\n  maxWidth: props.theme.minWidthWidescreen,\n  width: \"100%\"\n}));\n\nconst DashboardUserImage = styled.img({\n  borderRadius: \"50%\",\n  height: 40,\n  width: 40\n});\n\nconst DashboardUserInfo = styled.div({\n  alignItems: \"center\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: \"100%\"\n});\n\nconst Fab = styled.div(props => ({\n  alignItems: \"center\",\n  backgroundColor: props.theme.almostwhite,\n  borderRadius: \"50%\",\n  bottom: 24,\n  cursor: \"pointer\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 56,\n  justifyContent: \"center\",\n  position: \"absolute\",\n  right: 24,\n  width: 56\n  // TODO: ${mixins.interactionOverlay(\"black\")}\n}));\n\nconst StyledDashboard = styled.div({\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  position: \"relative\"\n});\n\nexport class Dashboard extends React.Component {\n  static propTypes = {\n    isLoadingSongs: PropTypes.bool,\n    onLoad: PropTypes.func,\n    onSongAdd: PropTypes.func,\n    onSongDelete: PropTypes.func,\n    songs: PropTypes.object,\n    user: PropTypes.object\n  };\n\n  componentDidMount() {\n    this.props.onLoad();\n\n    window.document.title = \"Dashboard - Aria\";\n  }\n\n  render() {\n    return (\n      <StyledDashboard>\n        <Toolbar\n          rightItems={\n            <React.Fragment>\n              <DashboardUserInfo>\n                <DashboardUserImage\n                  alt=\"User\"\n                  src={this.props.user.photoURL}\n                  title={this.props.user.email}\n                />\n              </DashboardUserInfo>\n            </React.Fragment>\n          }\n        />\n        <FadeOut\n          component={LoadingIndicator}\n          isVisible={this.props.isLoadingSongs}\n        >\n          LOADING SONGS...\n        </FadeOut>\n        <DashboardCenteredContent>\n          {hideIf(this.props.isLoadingSongs)(() => (\n            <SongList\n              onDelete={this.deleteSong}\n              onOpen={this.openSong}\n              songs={this.props.songs}\n            />\n          ))}\n        </DashboardCenteredContent>\n        <Fab onClick={this.addSong}>\n          <Icon icon=\"plus\" />\n        </Fab>\n      </StyledDashboard>\n    );\n  }\n\n  addSong = () => {\n    const name = window.prompt(\"Enter a name for the song\", \"New Song\");\n\n    if (!name) return;\n\n    this.props.onSongAdd({\n      name\n    });\n  };\n\n  deleteSong = song => {\n    const shouldDelete = window.confirm(\n      `Are you sure you want to delete the song \"${song.name}\"?`\n    );\n\n    if (!shouldDelete) return;\n\n    this.props.onSongDelete(song);\n  };\n\n  openSong = song => {\n    this.props.history.push(`/song/${song.id}`);\n  };\n}\n","import { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport shared from '../../../shared';\nimport user from '../../../user';\nimport { Dashboard } from './Dashboard';\n\nexport const DashboardContainer = withRouter(connect(state => ({\n  isLoadingSongs: user.selectors.getIsUserSongLibraryLoading(state),\n  songs: user.selectors.getUserSongLibrary(state),\n  user: user.selectors.getUser(state),\n}), {\n  onLoad: shared.actions.dashboardLoaded,\n  onSongAdd: shared.actions.songAddRequestStarted,\n  onSongDelete: shared.actions.songDeleteRequestStarted,\n})(Dashboard));\n","import * as components from './components';\n\nexport default {\n\tcomponents,\n};\n","export const NAME = 'sequenceEditor';\n\nexport const toolTypes = {\n  DRAW: 'DRAW',\n  ERASE: 'ERASE',\n  SELECT: 'SELECT',\n  MOVE: 'MOVE',\n  PAN: 'PAN',\n};\n","import first from \"lodash/fp/first\";\nimport last from \"lodash/fp/last\";\nimport { transparentize } from \"polished\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Draggable from \"react-draggable\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\n\nconst { getExtraProps } = shared.helpers;\n\nconst NoteConnector = styled.div(props => ({\n  backgroundColor: props.isSelected\n    ? \"white\"\n    : transparentize(0.5, props.theme.primary[2]),\n  height: 12,\n  left: 20,\n  position: \"absolute\",\n  top: 14,\n  transformOrigin: \"left center\",\n  transition: \"transform 0.1s ease\",\n  width: 1,\n  zIndex: 100\n}));\n\nconst NoteFill = styled.div(props => ({\n  backgroundColor: props.isSelected ? \"white\" : props.theme.primary[2],\n  borderRadius: 2,\n  boxShadow: props.isSelected && `0 0 10px ${transparentize(0.5, \"white\")}`,\n  height: 24,\n  width: 24,\n  \"&:hover\": {\n    transform: \"scale(1.05)\"\n  },\n  \"&:active\": {\n    transform: \"scale(0.95)\"\n  }\n}));\n\nconst NotePoint = styled.div({\n  alignItems: \"center\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 40,\n  justifyContent: \"center\",\n  left: 0,\n  overflow: \"hidden\",\n  pointerEvents: \"all\",\n  position: \"absolute\",\n  top: 0,\n  transition: \"transform 0.1s ease\",\n  width: 40,\n  zIndex: 150\n});\n\nconst StyledNote = styled.div(props => ({\n  left: 0,\n  pointerEvents: \"none\",\n  position: \"absolute\",\n  top: 0,\n  transition: \"transform 0.1s ease\",\n  zIndex: props.isSelected && 300\n}));\n\nexport class Note extends React.PureComponent {\n  static propTypes = {\n    isSelected: PropTypes.bool,\n    note: PropTypes.object,\n    onDrag: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDragStop: PropTypes.func,\n    onEndPointDrag: PropTypes.func,\n    onEndPointDragStart: PropTypes.func,\n    onEndPointDragStop: PropTypes.func,\n    positionBounds: PropTypes.object,\n    sizeBounds: PropTypes.object\n  };\n\n  static defaultProps = {\n    onDrag: () => {},\n    onDragStart: () => {},\n    onDragStop: () => {},\n    onEndPointDrag: () => {},\n    onEndPointDragStart: () => {},\n    onEndPointDragStop: () => {}\n  };\n\n  render() {\n    return (\n      <Draggable\n        bounds={this.props.positionBounds}\n        grid={[40, 40]}\n        handle=\".start-point\"\n        onDrag={this.handleDrag}\n        onStart={this.handleDragStart}\n        onStop={this.handleDragStop}\n        position={this.getPosition()}\n      >\n        <StyledNote isSelected={this.props.isSelected} {...getExtraProps(this)}>\n          <NotePoint className=\"start-point\">\n            <NoteFill isSelected={this.props.isSelected} />\n          </NotePoint>\n          <NoteConnector\n            isSelected={this.props.isSelected}\n            style={this.getConnectorStyle()}\n          />\n          <Draggable\n            axis=\"x\"\n            bounds={this.props.sizeBounds}\n            grid={[40, 40]}\n            onDrag={this.handleEndPointDrag}\n            onStart={this.handleEndPointDragStart}\n            onStop={this.handleEndPointDragStop}\n            position={this.getEndPointPosition()}\n          >\n            <NotePoint style={this.getEndPointStyle()}>\n              <NoteFill isSelected={this.props.isSelected} />\n            </NotePoint>\n          </Draggable>\n        </StyledNote>\n      </Draggable>\n    );\n  }\n\n  getConnectorStyle() {\n    const startPoint = first(this.props.note.points);\n    const endPoint = last(this.props.note.points);\n    const { asin, abs, PI, sign, sqrt } = Math;\n    const x = (endPoint.x - startPoint.x) * 40;\n    const y = (endPoint.y - startPoint.y) * 40;\n    const scale = x !== 0 ? sqrt(abs(x ** 2 + y ** 2)) : 0;\n    const rotation = x !== 0 ? asin(abs(y / scale)) * (180 / PI) * sign(y) : 0;\n    return {\n      transform: `rotate(${rotation}deg) scaleX(${scale})`\n    };\n  }\n\n  getEndPointPosition = () => ({\n    x: (this.props.note.points[1].x - this.props.note.points[0].x) * 40,\n    y: (this.props.note.points[1].y - this.props.note.points[0].y) * 40\n  });\n\n  getEndPointStyle() {\n    const startPoint = first(this.props.note.points);\n    const endPoint = last(this.props.note.points);\n    const x = (endPoint.x - startPoint.x) * 40;\n    const y = (endPoint.y - startPoint.y) * 40;\n    return {\n      display: is32ndNote(this.props.note) ? \"none\" : \"flex\",\n      transform: `translate(${x}px, ${y}px)`\n    };\n  }\n\n  getPosition = () => ({\n    x: this.props.note.points[0].x * 40,\n    y: this.props.note.points[0].y * 40\n  });\n\n  handleDrag = (e, { deltaX, deltaY }) => {\n    this.props.onDrag({\n      deltaX: Math.round(deltaX / 40),\n      deltaY: Math.round(deltaY / 40)\n    });\n  };\n\n  handleDragStart = e => {\n    this.props.onDragStart(this.props.note, e);\n  };\n\n  handleDragStop = () => {\n    this.props.onDragStop();\n  };\n\n  handleEndPointDrag = (e, { deltaX }) => {\n    this.props.onEndPointDrag({\n      deltaX: Math.round(deltaX / 40)\n    });\n  };\n\n  handleEndPointDragStart = e => {\n    this.props.onEndPointDragStart(this.props.note, e);\n  };\n\n  handleEndPointDragStop = () => {\n    this.props.onEndPointDragStop();\n  };\n}\n\nfunction is32ndNote(note) {\n  const length = last(note.points).x - first(note.points).x;\n  return length === 0;\n}\n","import compose from \"lodash/fp/compose\";\nimport first from \"lodash/fp/first\";\nimport split from \"lodash/fp/split\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { showIf } from \"react-render-helpers\";\nimport styled from \"styled-components/macro\";\nimport { Note } from \"../Note/Note\";\n\nconst DrawLayerGhostNote = styled(Note)({\n  opacity: 0.4,\n  pointerEvents: \"none\"\n});\n\nconst StyledDrawLayer = styled.div({\n  bottom: 0,\n  left: 0,\n  position: \"absolute\",\n  right: 0,\n  top: 0\n});\n\nexport class DrawLayer extends React.PureComponent {\n  static propTypes = {\n    mousePoint: PropTypes.object.isRequired,\n    onDraw: PropTypes.func.isRequired\n  };\n\n  state = {\n    isMouseOver: false,\n    isDrawing: false\n  };\n\n  render() {\n    return (\n      <StyledDrawLayer\n        onMouseDown={this.handleMouseDown}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n        onMouseUp={this.handleMouseUp}\n        ref={this.setRef}\n      >\n        {showIf(this.state.isMouseOver)(\n          <DrawLayerGhostNote note={this.getGhostNoteNote()} />\n        )}\n      </StyledDrawLayer>\n    );\n  }\n\n  getGhostNoteNote() {\n    const point = this.props.mousePoint;\n    return {\n      points: [\n        {\n          x: point ? point.x : 0,\n          y: point ? point.y : 0\n        },\n        {\n          x: point ? point.x + 1 : 0,\n          y: point ? point.y : 0\n        }\n      ]\n    };\n  }\n\n  getIsDrawing = () => this.state.isDrawing;\n\n  handleMouseDown = () => {\n    this.setState({\n      isDrawing: true\n    });\n  };\n\n  handleMouseEnter = () => {\n    this.setState({\n      isMouseOver: true\n    });\n  };\n\n  handleMouseLeave = e => {\n    this.setState({\n      isMouseOver: false\n    });\n\n    if (!this.getIsDrawing()) return;\n\n    const primaryClassName = `.${compose(\n      first,\n      split(\" \")\n    )(e.target.className)}`;\n    const isDescendant = !!this.elementRef.querySelector(primaryClassName);\n    if (isDescendant) return;\n\n    this.setState({\n      isDrawing: false\n    });\n  };\n\n  handleMouseUp = () => {\n    if (!this.getIsDrawing()) return;\n    const point = this.props.mousePoint;\n    this.props.onDraw(point);\n    this.setState({\n      isDrawing: false\n    });\n  };\n\n  setRef = ref => {\n    this.elementRef = ref;\n  };\n}\n","import Dawww from \"dawww\";\nimport find from \"lodash/fp/find\";\nimport getOr from \"lodash/fp/getOr\";\nimport includes from \"lodash/fp/includes\";\nimport isEqual from \"lodash/fp/isEqual\";\nimport max from \"lodash/fp/max\";\nimport min from \"lodash/fp/min\";\nimport uniqBy from \"lodash/fp/uniqBy\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components/macro\";\nimport * as constants from \"../../constants\";\nimport { Note } from \"../Note/Note\";\n\nconst StyledNotes = styled.div(props => ({\n  bottom: 0,\n  cursor: \"pointer\",\n  left: 0,\n  pointerEvents: \"none\",\n  position: \"absolute\",\n  top: 0,\n  width: props.measureCount * 4 * 8 * 40\n}));\n\nNotes.propTypes = {\n  measureCount: PropTypes.number.isRequired,\n  notes: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onDrag: PropTypes.func.isRequired,\n  onDragPreview: PropTypes.func.isRequired,\n  onErase: PropTypes.func.isRequired,\n  onResize: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  selectedNotes: PropTypes.arrayOf(PropTypes.object).isRequired,\n  toolType: PropTypes.string.isRequired\n};\n\nNotes.defaultProps = {\n  selectedNotes: []\n};\n\nfunction Notes(props) {\n  const [positionBounds, setPositionBounds] = useState({\n    bottom: (Dawww.OCTAVE_RANGE.length * 12 - 1) * 40,\n    left: 0,\n    right: (props.measureCount * 8 * 4 - 1) * 40,\n    top: 0\n  });\n  const [sizeBounds, setSizeBounds] = useState({\n    left: 0,\n    right: (props.measureCount * 8 * 4 - 1) * 40\n  });\n  const [positionDeltas, setPositionDeltas] = useState({});\n  const [sizeDeltas, setSizeDeltas] = useState({});\n\n  const getIsNoteSelected = note =>\n    !!find(x => x.id === note.id, props.selectedNotes);\n\n  const getIsEraseEnabled = () => props.toolType === constants.toolTypes.ERASE;\n\n  const getIsSelectEnabled = () =>\n    includes(props.toolType, [\n      constants.toolTypes.DRAW,\n      constants.toolTypes.SELECT\n    ]);\n\n  const erase = note => {\n    if (!getIsEraseEnabled()) return;\n\n    props.onErase(note);\n  };\n\n  const handleNoteDrag = ({ deltaX, deltaY }) => {\n    const deltaReducer = (acc, cur) => {\n      const prevX = getOr(0, `[${cur.id}].x`, acc);\n      const prevY = getOr(0, `[${cur.id}].y`, acc);\n      const x = prevX + deltaX;\n      const y = prevY + deltaY;\n\n      return { ...acc, [cur.id]: { x, y } };\n    };\n    const newDeltas = props.selectedNotes.reduce(deltaReducer, positionDeltas);\n\n    if (isEqual(newDeltas, positionDeltas)) return;\n\n    const adjustedNotes = applyPositionDeltas(props.selectedNotes, newDeltas);\n\n    setPositionDeltas(newDeltas);\n\n    props.onDragPreview(adjustedNotes);\n  };\n\n  const handleNoteDragStart = (draggedNote, e) => {\n    const notes = uniqBy(x => x.id, [draggedNote, ...props.selectedNotes]);\n    const draggedX = getOr(0, \"points[0].x\", draggedNote);\n    const draggedY = getOr(0, \"points[0].y\", draggedNote);\n    const maxX = max(notes.map(getOr(0, \"points[1].x\")));\n    const maxY = max(notes.map(getOr(0, \"points[1].y\")));\n    const minX = min(notes.map(getOr(0, \"points[0].x\")));\n    const minY = min(notes.map(getOr(0, \"points[0].y\")));\n    const baseBottom = Dawww.OCTAVE_RANGE.length * 12 - 1;\n    const baseRight = props.measureCount * 8 * 4 - 1;\n\n    setPositionBounds({\n      bottom: (baseBottom - (maxY - draggedY)) * 40,\n      left: (draggedX - minX) * 40,\n      right: (baseRight - (maxX - draggedX)) * 40,\n      top: (draggedY - minY) * 40\n    });\n\n    erase(draggedNote);\n\n    select(draggedNote, e);\n  };\n\n  const handleNoteDragStop = () => {\n    props.onDrag(applyPositionDeltas(props.notes, positionDeltas));\n    setPositionDeltas({});\n  };\n\n  const handleNoteEndPointDrag = ({ deltaX }) => {\n    const deltaReducer = (acc, cur) => {\n      const prevX = getOr(0, `[${cur.id}].x`, acc);\n      const x = prevX + deltaX;\n\n      return { ...acc, [cur.id]: { x } };\n    };\n    const newDeltas = props.selectedNotes.reduce(deltaReducer, sizeDeltas);\n\n    if (isEqual(newDeltas, sizeDeltas)) return;\n\n    setSizeDeltas(newDeltas);\n  };\n\n  const handleNoteEndPointDragStart = (sizedNote, e) => {\n    const notes = uniqBy(x => x.id, [...props.selectedNotes, sizedNote]);\n    const maxPositionX = max(notes.map(getOr(0, \"points[0].x\")));\n    const baseRight = props.measureCount * 8 * 4 - 1;\n\n    setSizeBounds({\n      left: 40,\n      right: (baseRight - maxPositionX) * 40\n    });\n\n    select(sizedNote, e);\n  };\n\n  const handleNoteEndPointDragStop = () => {\n    props.onResize(applySizeDeltas(props.notes, sizeDeltas));\n    setSizeDeltas({});\n  };\n\n  const adjustedNotes = applySizeDeltas(\n    applyPositionDeltas(props.notes, positionDeltas),\n    sizeDeltas\n  );\n\n  function select(note, e) {\n    const isAdditive = e.ctrlKey || e.metaKey;\n\n    if (!getIsSelectEnabled() || (props.isSelected && !isAdditive)) return;\n\n    props.onSelect(note, isAdditive);\n  }\n\n  return (\n    <StyledNotes measureCount={props.measureCount}>\n      {adjustedNotes.map(note => (\n        <Note\n          className=\"notes__note\"\n          isSelected={getIsNoteSelected(note)}\n          key={note.id}\n          onDrag={handleNoteDrag}\n          onDragStart={handleNoteDragStart}\n          onDragStop={handleNoteDragStop}\n          onEndPointDrag={handleNoteEndPointDrag}\n          onEndPointDragStart={handleNoteEndPointDragStart}\n          onEndPointDragStop={handleNoteEndPointDragStop}\n          onSelect={props.onSelect}\n          positionBounds={positionBounds}\n          sizeBounds={sizeBounds}\n          toolType={props.toolType}\n          note={note}\n        />\n      ))}\n    </StyledNotes>\n  );\n}\n\nexport default React.memo(Notes);\n\nfunction applyPositionDeltas(notes, deltas) {\n  return notes.map(note => {\n    const noteDelta = deltas[note.id];\n\n    if (!noteDelta) return note;\n\n    return {\n      ...note,\n      points: note.points.map(point => ({\n        x: point.x + noteDelta.x,\n        y: point.y + noteDelta.y\n      }))\n    };\n  });\n}\n\nfunction applySizeDeltas(notes, deltas) {\n  return notes.map(note => {\n    const noteDelta = deltas[note.id];\n\n    if (!noteDelta) return note;\n\n    return {\n      ...note,\n      points: [\n        note.points[0],\n        {\n          x: note.points[1].x + noteDelta.x,\n          y: note.points[1].y\n        }\n      ]\n    };\n  });\n}\n","import isEmpty from \"lodash/fp/isEmpty\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst StyledPanner = styled.div({\n  bottom: 0,\n  cursor: \"grab\",\n  left: 0,\n  position: \"absolute\",\n  right: 0,\n  top: 0\n});\n\nexport class Panner extends React.PureComponent {\n  static propTypes = {\n    scrollLeftEl: PropTypes.object,\n    scrollTopEl: PropTypes.object\n  };\n\n  state = {\n    startPoint: {}\n  };\n\n  render() {\n    return (\n      <StyledPanner\n        onMouseDown={this.handleMouseDown}\n        onMouseLeave={this.handleMouseLeave}\n        onMouseMove={this.handleMouseMove}\n        onMouseUp={this.handleMouseUp}\n      />\n    );\n  }\n\n  getIsPanning = () => !isEmpty(this.state.startPoint);\n\n  getStartPoint(e) {\n    return {\n      scrollLeft: this.props.scrollLeftEl.scrollLeft,\n      scrollTop: this.props.scrollTopEl.scrollTop,\n      x: e.pageX,\n      y: e.pageY\n    };\n  }\n\n  handleMouseDown = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.setState({\n      startPoint: this.getStartPoint(e)\n    });\n  };\n\n  handleMouseLeave = () => {\n    if (!this.getIsPanning()) return;\n    this.setState({\n      startPoint: {}\n    });\n  };\n\n  handleMouseMove = e => {\n    if (!this.getIsPanning()) return;\n    const dx = e.pageX - this.state.startPoint.x;\n    const dy = e.pageY - this.state.startPoint.y;\n    const scrollLeft = this.state.startPoint.scrollLeft - dx;\n    const scrollTop = this.state.startPoint.scrollTop - dy;\n\n    this.props.scrollLeftEl.scrollLeft = scrollLeft;\n    this.props.scrollTopEl.scrollTop = scrollTop;\n  };\n\n  handleMouseUp = () => {\n    if (!this.getIsPanning()) return;\n    this.setState({\n      startPoint: {}\n    });\n  };\n}\n","import isEmpty from \"lodash/fp/isEmpty\";\nimport isEqual from \"lodash/fp/isEqual\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst StyledFence = styled.div({\n  backgroundColor: \"rgba(255, 255, 255, 0.25)\",\n  border: \"2px solid white\",\n  borderRadius: 2,\n  left: 0,\n  pointerEvents: \"none\",\n  position: \"absolute\",\n  top: 0\n});\n\nexport class Fence extends React.PureComponent {\n  static propTypes = {\n    endPoint: PropTypes.object.isRequired,\n    startPoint: PropTypes.object.isRequired\n  };\n\n  render() {\n    return (\n      <StyledFence\n        style={{\n          display: this.getDisplay(),\n          height: this.getHeight(),\n          transform: this.getTransform(),\n          width: this.getWidth()\n        }}\n      />\n    );\n  }\n\n  getDisplay() {\n    const isSelecting = this.getIsSelecting();\n    const start = this.props.startPoint;\n    const end = this.props.endPoint;\n    const hasMoved = !isEqual(start, end);\n    return isSelecting && hasMoved ? \"block\" : \"none\";\n  }\n\n  getHeight() {\n    const start = this.props.startPoint;\n    const end = this.props.endPoint;\n\n    if (isEmpty(start) || isEmpty(end)) return 0;\n    return (Math.abs(this.props.endPoint.y - start.y) + 1) * 40;\n  }\n\n  getIsSelecting = () => !isEmpty(this.props.startPoint);\n\n  getTransform() {\n    const start = this.props.startPoint;\n    const end = this.props.endPoint;\n\n    if (isEmpty(start) || isEmpty(end)) {\n      return \"translate(0px, 0px)\";\n    }\n\n    const x = Math.min(start.x, end.x) * 40;\n    const y = Math.min(start.y, end.y) * 40;\n\n    return `translate(${x}px, ${y}px)`;\n  }\n\n  getWidth() {\n    const start = this.props.startPoint;\n    const end = this.props.endPoint;\n\n    if (isEmpty(start) || isEmpty(end)) return 0;\n    return (Math.abs(end.x - start.x) + 1) * 40;\n  }\n}\n","import isEmpty from \"lodash/fp/isEmpty\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport { Fence } from \"../Fence/Fence\";\n\nconst StyledSelector = styled.div({\n  bottom: 0,\n  left: 0,\n  position: \"absolute\",\n  right: 0,\n  top: 0\n});\n\nexport class Selector extends React.PureComponent {\n  static propTypes = {\n    children: PropTypes.node,\n    isEnabled: PropTypes.bool,\n    mousePoint: PropTypes.object.isRequired,\n    onSelect: PropTypes.func.isRequired\n  };\n\n  state = {\n    endPoint: {},\n    startPoint: {}\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.mousePoint.x < 0 || nextProps.mousePoint.y < 0) {\n      this.setState({\n        startPoint: {}\n      });\n    }\n  }\n\n  render() {\n    return (\n      <StyledSelector\n        onMouseDown={this.handleMouseDown}\n        // onMouseLeave={this.handleMouseLeave}\n        onMouseUp={this.handleMouseUp}\n        style={{\n          pointerEvents: this.props.isEnabled ? \"all\" : \"none\"\n        }}\n      >\n        <Fence\n          endPoint={this.props.mousePoint}\n          startPoint={this.state.startPoint}\n        />\n      </StyledSelector>\n    );\n  }\n\n  handleMouseDown = () => {\n    this.setState({\n      startPoint: this.props.mousePoint\n    });\n  };\n\n  handleMouseUp = e => {\n    if (isEmpty(this.state.startPoint)) return;\n\n    this.props.onSelect(this.state.startPoint, e.ctrlKey || e.metaKey);\n\n    this.setState({\n      startPoint: {}\n    });\n  };\n}\n","import Dawww from \"dawww\";\nimport range from \"lodash/fp/range\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst StyledSlots = styled.div({\n  flex: \"1 0 auto\",\n  minHeight: \"100%\"\n});\n\nexport class Slots extends React.PureComponent {\n  static propTypes = {\n    measureCount: PropTypes.number.isRequired\n  };\n\n  render() {\n    return (\n      <StyledSlots\n        dangerouslySetInnerHTML={{\n          __html: this.getHTML()\n        }}\n      />\n    );\n  }\n\n  getHTML() {\n    const slots = range(0, this.props.measureCount * 4 * 8).map(columnNumber =>\n      range(0, Dawww.SCALE.length).map(rowNumber =>\n        getSlot(columnNumber, rowNumber)\n      )\n    );\n    const stripes = range(0, this.props.measureCount * 2).map(n =>\n      this.getStripe(n)\n    );\n    return `\n      <svg\n        width=\"${this.props.measureCount * 4 * 8 * 40}\"\n        height=\"${Dawww.SCALE.length * 40}\"\n        viewBox=\"0 0 ${this.props.measureCount * 4 * 8 * 40} ${Dawww.SCALE\n      .length * 40}\">\n        ${stripes}\n        ${slots}\n      </svg>\n    `;\n  }\n\n  getStripe = n => `\n    <rect\n      fill=\"white\"\n      opacity=\"0.02\"\n      rx=\"4\"\n      ry=\"4\"\n      x=\"${(2 * n + 1) * 320}\"\n      y=\"0\"\n      width=\"320\"\n      height=\"${Dawww.SCALE.length * 40}\"\n    ></rect>\n  `;\n\n  getWidth = () => this.props.measureCount * 4 * 8 * 40;\n}\n\nfunction getSlot(column, row) {\n  const isEven = x => x % 2 === 0;\n  const fill = isEven(Math.floor(column / 8)) ? \"white\" : \"white\";\n  const size = 1;\n  return `\n    <rect\n      fill=\"${fill}\"\n      opacity=\"0.5\"\n      x=\"${column * 40 + (40 - (size + 2)) / 2}\"\n      y=\"${row * 40 + (40 - size) / 2}\"\n      width=\"${size + 2}\"\n      height=\"${size}\"\n    ></rect>\n    <rect\n      fill=\"${fill}\"\n      opacity=\"0.5\"\n      x=\"${column * 40 + (40 - size) / 2}\"\n      y=\"${row * 40 + (40 - (size + 2)) / 2}\"\n      width=\"${size}\"\n      height=\"${size + 2}\"\n    ></rect>\n  `;\n}\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { showIf } from \"react-render-helpers\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\nimport * as constants from \"../../constants\";\nimport { DrawLayer } from \"../DrawLayer/DrawLayer\";\nimport Notes from \"../Notes/Notes\";\nimport { Panner } from \"../Panner/Panner\";\nimport { Selector } from \"../Selector/Selector\";\nimport { Slots } from \"../Slots/Slots\";\n\nconst { Timeline } = shared.components;\n\nconst GridWrapper = styled.div({\n  height: \"100%\",\n  overflowX: \"visible\",\n  position: \"relative\"\n});\n\nconst StyledGrid = styled.div({\n  overflowX: \"scroll\",\n  overflowY: \"visible\",\n  paddingLeft: 80,\n  position: \"relative\"\n});\n\nexport class Grid extends React.PureComponent {\n  static propTypes = {\n    measureCount: PropTypes.number,\n    mousePoint: PropTypes.object,\n    notes: PropTypes.arrayOf(PropTypes.object),\n    onDrag: PropTypes.func,\n    onDragPreview: PropTypes.func,\n    onDraw: PropTypes.func,\n    onErase: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onResize: PropTypes.func,\n    onSelect: PropTypes.func,\n    onSelectInArea: PropTypes.func,\n    selectedNotes: PropTypes.arrayOf(PropTypes.object),\n    sequenceEditorContentRef: PropTypes.object,\n    toolType: PropTypes.string\n  };\n\n  render() {\n    return (\n      <StyledGrid\n        onMouseLeave={this.props.onMouseLeave}\n        onMouseMove={this.props.onMouseMove}\n        ref={this.setRef}\n      >\n        <GridWrapper style={this.getWrapperStyle()}>\n          <Slots measureCount={this.props.measureCount} />\n          {showIf(this.props.toolType === constants.toolTypes.DRAW)(\n            <DrawLayer\n              mousePoint={this.props.mousePoint}\n              onDraw={this.props.onDraw}\n            />\n          )}\n          <Selector\n            isEnabled={this.props.toolType === constants.toolTypes.SELECT}\n            mousePoint={this.props.mousePoint}\n            notes={this.props.notes}\n            onSelect={this.handleSelectorSelect}\n            selectedNotes={this.props.selectedNotes}\n          />\n          <Notes\n            measureCount={this.props.measureCount}\n            notes={this.props.notes}\n            onDrag={this.props.onDrag}\n            onDragPreview={this.props.onDragPreview}\n            onErase={this.props.onErase}\n            onResize={this.props.onResize}\n            onSelect={this.props.onSelect}\n            selectedNotes={this.props.selectedNotes}\n            toolType={this.props.toolType}\n          />\n          {showIf(this.props.toolType === constants.toolTypes.PAN)(\n            <Panner\n              scrollLeftEl={this.elementRef}\n              scrollTopEl={this.props.sequenceEditorContentRef}\n            />\n          )}\n          <Timeline isVisible={false} offset={0 * 40} />\n        </GridWrapper>\n      </StyledGrid>\n    );\n  }\n\n  getWrapperStyle() {\n    return {\n      width:\n        this.props.measureCount !== undefined\n          ? this.props.measureCount * 4 * 8 * 40 + 80\n          : 0\n    };\n  }\n\n  handleSelectorSelect = (startPoint, isAdditive) =>\n    this.props.onSelectInArea(startPoint, this.props.mousePoint, isAdditive);\n\n  setRef = ref => {\n    this.elementRef = ref;\n  };\n}\n","import { includes } from \"lodash/fp\";\nimport { transparentize } from \"polished\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst KeyLabel = styled.div(props => ({\n  color: props.theme.almostblack,\n  display:\n    includes(\"C\", props.step.name) && !includes(\"#\", props.step.name)\n      ? \"block\"\n      : \"none\"\n}));\n\nconst StyledKey = styled.div(props => ({\n  alignItems: \"center\",\n  backgroundColor: includes(\"#\", props.step.name)\n    ? transparentize(0.75, props.theme.almostwhite)\n    : props.theme.almostwhite,\n  boxShadow: `2px 0 0 ${transparentize(\n    includes(\"#\", props.step.name) ? 0.9 : 0.5,\n    props.theme.almostwhite\n  )}`,\n  cursor: \"pointer\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 36,\n  justifyContent: \"center\",\n  marginBottom: 2,\n  marginTop: 2,\n  position: \"relative\",\n  \"&::after\": {\n    backgroundColor: props.theme.primary[2],\n    bottom: 0,\n    boxShadow: `2px 0 5px ${props.theme.primary[2]}`,\n    content: \"''\",\n    display: \"block\",\n    right: -2,\n    opacity: props.isHoveredRow ? 1 : 0,\n    pointerEvents: \"none\",\n    position: \"absolute\",\n    top: 0,\n    transition: \"opacity 50ms ease\",\n    width: 2\n  }\n}));\n\nexport class Key extends React.PureComponent {\n  static propTypes = {\n    isHoveredRow: PropTypes.bool,\n    onMouseDown: PropTypes.func,\n    step: PropTypes.object,\n    style: PropTypes.object\n  };\n\n  render() {\n    return (\n      <StyledKey\n        isHoveredRow={this.props.isHoveredRow}\n        onMouseDown={this.handleMouseDown}\n        step={this.props.step}\n        style={this.props.style}\n      >\n        <KeyLabel step={this.props.step}>{this.props.step.name}</KeyLabel>\n      </StyledKey>\n    );\n  }\n\n  handleMouseDown = () => this.props.onMouseDown(this.props.step);\n}\n","import Dawww from \"dawww\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport { Key } from \"../Key/Key\";\n\nconst StyledKeys = styled.div({\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  flexDirection: \"column\",\n  width: 40\n});\n\nexport class Keys extends React.PureComponent {\n  static propTypes = {\n    gridMousePoint: PropTypes.object,\n    onKeyPress: PropTypes.func\n  };\n\n  render() {\n    return (\n      <StyledKeys>\n        {this.getScale().map((step, index) => (\n          <Key\n            isHoveredRow={this.getIsHoveredRow(step)}\n            key={step.y}\n            onMouseDown={this.handleKeyMouseDown}\n            step={step}\n            style={{\n              borderBottomRightRadius:\n                index === this.getScale().length - 1 ? 4 : \"\",\n              boxShadow:\n                index === this.getScale().length - 1\n                  ? \"2px 2px 0 rgba(235, 235, 235, 0.5)\"\n                  : \"\",\n              borderTopRightRadius: index === 0 ? 4 : \"\"\n            }}\n          />\n        ))}\n      </StyledKeys>\n    );\n  }\n\n  getIsHoveredRow = step => step.y === this.props.gridMousePoint.y;\n\n  getScale = () => Dawww.SCALE;\n\n  handleKeyMouseDown = step => {\n    this.props.onKeyPress(step.y);\n  };\n}\n","import Dawww from 'dawww';\nimport isEmpty from 'lodash/fp/isEmpty';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport shared from '../../../shared';\nimport * as constants from '../../constants';\n\nconst { IconButton, Toolbar } = shared.components;\nconst { DRAW, ERASE, PAN, SELECT } = constants.toolTypes;\n\nexport class SequenceEditorToolbar extends React.PureComponent {\n  static propTypes = {\n    isRedoEnabled: PropTypes.bool.isRequired,\n    isUndoEnabled: PropTypes.bool.isRequired,\n    measureCount: PropTypes.number,\n    onClose: PropTypes.func.isRequired,\n    onDelete: PropTypes.func.isRequired,\n    onDeselectAll: PropTypes.func.isRequired,\n    onDrawToolSelect: PropTypes.func.isRequired,\n    onDuplicate: PropTypes.func.isRequired,\n    onEraseToolSelect: PropTypes.func.isRequired,\n    onOctaveDown: PropTypes.func.isRequired,\n    onOctaveUp: PropTypes.func.isRequired,\n    onPanToolSelect: PropTypes.func.isRequired,\n    onRedo: PropTypes.func.isRequired,\n    onSelectToolSelect: PropTypes.func.isRequired,\n    onUndo: PropTypes.func.isRequired,\n    selectedNotes: PropTypes.arrayOf(PropTypes.object).isRequired,\n    toolType: PropTypes.string.isRequired,\n  }\n\n  render() {\n    return (\n      <Toolbar\n        className=\"sequence-editor-toolbar\"\n        isAlternate={this.getAreSomeNotesSelected()}\n        leftItems={\n          <React.Fragment>\n            <IconButton\n              icon=\"arrow-left\"\n              onClick={this.props.onClose}\n              toolTip=\"Back to tracks\"\n            />\n          </React.Fragment>\n        }\n        leftItemsAlt={\n          <React.Fragment>\n            <IconButton\n              icon=\"close\"\n              onClick={this.props.onDeselectAll}\n              toolTip=\"Deselect notes\"\n            />\n          </React.Fragment>\n        }\n        rightItems={\n          <React.Fragment>\n            <IconButton\n              icon=\"undo\"\n              isDisabled={!this.props.isUndoEnabled}\n              onClick={this.props.onUndo}\n              title=\"Undo\"\n            />\n            <IconButton\n              icon=\"redo\"\n              isDisabled={!this.props.isRedoEnabled}\n              onClick={this.props.onRedo}\n              title=\"Redo\"\n            />\n            <IconButton\n              isActive={this.props.toolType === SELECT}\n              icon=\"mouse-pointer\"\n              onClick={this.props.onSelectToolSelect}\n              title=\"Select\"\n            />\n            <IconButton\n              isActive={this.props.toolType === DRAW}\n              icon=\"pencil\"\n              onClick={this.props.onDrawToolSelect}\n              title=\"Draw\"\n            />\n            <IconButton\n              isActive={this.props.toolType === ERASE}\n              icon=\"eraser\"\n              onClick={this.props.onEraseToolSelect}\n              title=\"Erase\"\n            />\n            <IconButton\n              isActive={this.props.toolType === PAN}\n              icon=\"hand-paper-o\"\n              onClick={this.props.onPanToolSelect}\n              title=\"Pan\"\n            />\n          </React.Fragment>\n        }\n        rightItemsAlt={\n          <React.Fragment>\n            <IconButton\n              icon=\"undo\"\n              isDisabled={!this.props.isUndoEnabled}\n              onClick={this.props.onUndo}\n              title=\"Undo\"\n            />\n            <IconButton\n              icon=\"redo\"\n              isDisabled={!this.props.isRedoEnabled}\n              onClick={this.props.onRedo}\n              title=\"Redo\"\n            />\n            <IconButton\n              icon=\"trash\"\n              onClick={this.props.onDelete}\n              title=\"Delete\"\n            />\n            <IconButton\n              icon=\"clone\"\n              onClick={this.props.onDuplicate}\n              title=\"Duplicate\"\n            />\n            <IconButton\n              icon=\"arrow-up\"\n              isDisabled={this.getIsOctaveUpButtonDisabled()}\n              onClick={this.props.onOctaveUp}\n              toolTip=\"Octave up\"\n            />\n            <IconButton\n              icon=\"arrow-down\"\n              isDisabled={this.getIsOctaveDownButtonDisabled()}\n              onClick={this.props.onOctaveDown}\n              toolTip=\"Octave down\"\n            />\n          </React.Fragment>\n        }\n      />\n    );\n  }\n\n  getAreSomeNotesSelected = () =>\n    !isEmpty(this.props.selectedNotes);\n\n  getIsOctaveDownButtonDisabled = () =>\n    Dawww.someNoteWillMoveOutside(\n      this.props.measureCount,\n      { x: 0, y: 12 },\n      this.props.selectedNotes,\n    );\n\n  getIsOctaveUpButtonDisabled = () =>\n    Dawww.someNoteWillMoveOutside(\n      this.props.measureCount,\n      { x: 0, y: -12 },\n      this.props.selectedNotes,\n    );\n}\n","import Dawww from \"dawww\";\nimport find from \"lodash/fp/find\";\nimport getOr from \"lodash/fp/getOr\";\nimport isEmpty from \"lodash/fp/isEmpty\";\nimport isEqual from \"lodash/fp/isEqual\";\nimport map from \"lodash/fp/map\";\nimport uniq from \"lodash/fp/uniq\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { hideIf, showIf } from \"react-render-helpers\";\nimport { HotKeys } from \"react-hotkeys\";\nimport styled from \"styled-components/macro\";\nimport audio from \"../../../audio\";\nimport shared from \"../../../shared\";\nimport { toolTypes } from \"../../constants\";\nimport { Grid } from \"../Grid/Grid\";\nimport { Keys } from \"../Keys/Keys\";\nimport { SequenceEditorToolbar } from \"../SequenceEditorToolbar/SequenceEditorToolbar\";\n\nconst { previewPitch } = audio.helpers;\n\nconst LoadingIndicator = styled.div({\n  alignItems: \"center\",\n  color: \"white\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  justifyContent: \"center\"\n});\n\nconst SequenceEditorContent = styled.div({\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  overflowX: \"hidden\",\n  overflowY: \"scroll\"\n});\n\nconst SequenceEditorWrapper = styled.div({\n  display: \"flex\",\n  flex: \"1 0 auto\",\n  paddingBottom: 64,\n  paddingTop: 64\n});\n\nconst StyledSequenceEditor = styled(HotKeys)({\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  overflow: \"hidden\",\n  position: \"relative\"\n});\n\nexport class SequenceEditor extends React.PureComponent {\n  static propTypes = {\n    isRedoEnabled: PropTypes.bool.isRequired,\n    isLoading: PropTypes.bool.isRequired,\n    isUndoEnabled: PropTypes.bool.isRequired,\n    notes: PropTypes.arrayOf(PropTypes.object).isRequired,\n    onDelete: PropTypes.func.isRequired,\n    onDrag: PropTypes.func.isRequired,\n    onDraw: PropTypes.func.isRequired,\n    onDuplicate: PropTypes.func.isRequired,\n    onErase: PropTypes.func.isRequired,\n    onLoad: PropTypes.func.isRequired,\n    onNudge: PropTypes.func.isRequired,\n    onOctaveDown: PropTypes.func.isRequired,\n    onOctaveUp: PropTypes.func.isRequired,\n    onRedo: PropTypes.func.isRequired,\n    onResize: PropTypes.func.isRequired,\n    onUndo: PropTypes.func.isRequired,\n    sequence: PropTypes.object.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.focusRef = React.createRef();\n    this.state = {\n      gridMousePoint: { x: -1, y: -1 },\n      previousToolType: toolTypes.SELECT,\n      selectedNoteIds: [],\n      toolType: toolTypes.SELECT\n    };\n  }\n\n  componentDidMount() {\n    this.props.onLoad(\n      this.props.match.params.songId,\n      this.props.match.params.sequenceId\n    );\n\n    this.focusRef.current.focus();\n\n    if (!this.contentElementRef) return;\n\n    this.contentElementRef.scrollTop = shared.helpers.getCenteredScroll(\n      this.contentElementRef\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.sequence === this.props.sequence) return;\n\n    if (!this.contentElementRef) return;\n\n    this.contentElementRef.scrollTop = shared.helpers.getCenteredScroll(\n      this.contentElementRef\n    );\n  }\n\n  render() {\n    return (\n      <StyledSequenceEditor focused={true} handlers={this.getKeyHandlers()}>\n        <div ref={this.focusRef} tabIndex={-1} />\n        {showIf(this.props.isLoading)(\n          <LoadingIndicator>LOADING SONG...</LoadingIndicator>\n        )}\n        {hideIf(this.props.isLoading)(\n          <React.Fragment>\n            <SequenceEditorContent ref={this.setContentRef}>\n              <SequenceEditorWrapper>\n                <Keys\n                  gridMousePoint={this.state.gridMousePoint}\n                  onKeyPress={this.previewPitch}\n                />\n                <Grid\n                  measureCount={this.props.sequence.measureCount}\n                  mousePoint={this.state.gridMousePoint}\n                  notes={this.props.notes}\n                  onDrag={this.props.onDrag}\n                  onDragPreview={this.handleGridDragPreview}\n                  onDraw={this.handleGridDraw}\n                  onErase={this.handleGridErase}\n                  onMouseLeave={this.handleGridMouseLeave}\n                  onMouseMove={this.handleGridMouseMove}\n                  onResize={this.props.onResize}\n                  onSelect={this.handleGridSelect}\n                  onSelectInArea={this.handleGridSelectInArea}\n                  selectedNotes={this.getSelectedNotes()}\n                  sequenceEditorContentRef={this.contentElementRef}\n                  toolType={this.state.toolType}\n                />\n              </SequenceEditorWrapper>\n            </SequenceEditorContent>\n            <SequenceEditorToolbar\n              isRedoEnabled={this.props.isRedoEnabled}\n              isUndoEnabled={this.props.isUndoEnabled}\n              measureCount={this.props.sequence.measureCount}\n              onClose={this.close}\n              onDelete={this.deleteSelectedNotes}\n              onDeselectAll={this.deselectAllNotes}\n              onDrawToolSelect={this.activateDrawTool}\n              onDuplicate={this.duplicateSelectedNotes}\n              onEraseToolSelect={this.activateEraseTool}\n              onOctaveDown={this.handleToolbarOctaveDown}\n              onOctaveUp={this.handleToolbarOctaveUp}\n              onPanToolSelect={this.activatePanTool}\n              onRedo={this.redo}\n              onSelectToolSelect={this.activateSelectTool}\n              onUndo={this.undo}\n              selectedNotes={this.getSelectedNotes()}\n              toolType={this.state.toolType}\n            />\n          </React.Fragment>\n        )}\n      </StyledSequenceEditor>\n    );\n  }\n\n  activateDrawTool = () => {\n    this.setState({\n      toolType: toolTypes.DRAW\n    });\n  };\n\n  activatePanOverride = e => {\n    e.preventDefault();\n    if (e.repeat) return;\n    this.setState(state => ({\n      previousToolType: state.toolType,\n      toolType: toolTypes.PAN\n    }));\n    window.addEventListener(\"keyup\", this.deactivatePanOverride);\n  };\n\n  activateEraseTool = () => {\n    this.setState({\n      toolType: toolTypes.ERASE\n    });\n  };\n\n  activatePanTool = () => {\n    this.setState({\n      toolType: toolTypes.PAN\n    });\n  };\n\n  activateSelectTool = () => {\n    this.setState({\n      toolType: toolTypes.SELECT\n    });\n  };\n\n  close = () => {\n    this.props.history.push(`/song/${this.props.match.params.songId}`);\n  };\n\n  deactivatePanOverride = e => {\n    if (e.keyCode !== 32) return;\n    this.setState(state => ({\n      toolType: state.previousToolType\n    }));\n    window.removeEventListener(\"keyup\", this.deactivatePanOverride);\n  };\n\n  deleteSelectedNotes = e => {\n    e.preventDefault();\n\n    if (isEmpty(this.state.selectedNoteIds)) return;\n\n    const selectedNotes = this.getSelectedNotes();\n\n    this.setState({\n      selectedNoteIds: []\n    });\n\n    this.props.onDelete(selectedNotes);\n  };\n\n  deselectAllNotes = e => {\n    e.preventDefault();\n\n    if (isEmpty(this.state.selectedNoteIds)) return;\n\n    this.setState({\n      selectedNoteIds: []\n    });\n  };\n\n  duplicateSelectedNotes = e => {\n    e.preventDefault();\n\n    if (isEmpty(this.state.selectedNoteIds)) return;\n\n    const duplicatedNotes = Dawww.duplicateNotes(this.getSelectedNotes());\n\n    this.props.onDuplicate(duplicatedNotes);\n\n    this.setState({\n      selectedNoteIds: map(\"id\", duplicatedNotes)\n    });\n  };\n\n  getKeyHandlers = () => ({\n    backspace: this.deleteSelectedNotes,\n    d: this.activateDrawTool,\n    del: this.deleteSelectedNotes,\n    down: this.nudgeDown,\n    e: this.activateEraseTool,\n    left: this.nudgeLeft,\n    p: this.activatePanTool,\n    right: this.nudgeRight,\n    s: this.activateSelectTool,\n    space: this.activatePanOverride,\n    up: this.nudgeUp,\n    \"ctrl+a\": this.selectAll,\n    \"ctrl+d\": this.deselectAllNotes,\n    \"ctrl+shift+d\": this.duplicateSelectedNotes,\n    \"ctrl+alt+z\": this.props.onRedo,\n    \"ctrl+z\": this.props.onUndo,\n    \"meta+a\": this.selectAll,\n    \"meta+d\": this.deselectAllNotes,\n    \"meta+shift+d\": this.duplicateSelectedNotes,\n    \"meta+alt+z\": this.props.onRedo,\n    \"meta+z\": this.props.onUndo\n  });\n\n  getSelectedNotes = () =>\n    map(\n      noteId => find(n => n.id === noteId, this.props.notes) || {},\n      this.state.selectedNoteIds\n    );\n\n  handleGridDragPreview = notes => {\n    const pitch = getOr(-1, \"[0].points[0].y\", notes);\n\n    this.previewPitch(pitch);\n  };\n\n  handleGridDraw = point => {\n    const pitch = getOr(-1, \"y\", point);\n\n    this.previewPitch(pitch);\n\n    this.props.onDraw(point);\n  };\n\n  handleGridErase = note => {\n    this.props.onErase(note);\n    this.setState({\n      selectedNoteIds: []\n    });\n  };\n\n  handleGridMouseLeave = e => {\n    this.setState({\n      gridMousePoint: {\n        x: -1,\n        y: -1\n      }\n    });\n  };\n\n  handleGridMouseMove = e => {\n    const gridMousePoint = getGridMousePoint(\n      e.currentTarget,\n      this.contentElementRef,\n      e\n    );\n\n    this.setState(state =>\n      isEqual(state.gridMousePoint, gridMousePoint) ? null : { gridMousePoint }\n    );\n  };\n\n  handleGridSelect = (note, isAdditive) => {\n    const pitch = getOr(-1, \"points[0].y\", note);\n\n    this.previewPitch(pitch);\n\n    this.setState(state => ({\n      selectedNoteIds: isAdditive\n        ? shared.helpers.toggleInArray(note.id, state.selectedNoteIds)\n        : [note.id]\n    }));\n  };\n\n  handleGridSelectInArea = (startPoint, endPoint, isAdditive) => {\n    const notesInArea = Dawww.getNotesInArea(\n      startPoint,\n      endPoint,\n      this.props.notes\n    );\n\n    // if (isEmpty(notesInArea)) return;\n\n    this.setState(state => ({\n      selectedNoteIds: isAdditive\n        ? uniq([...state.selectedNoteIds, ...map(\"id\", notesInArea)])\n        : map(\"id\", notesInArea)\n    }));\n  };\n\n  handleToolbarOctaveDown = () =>\n    this.props.onOctaveDown(this.getSelectedNotes());\n\n  handleToolbarOctaveUp = () => this.props.onOctaveUp(this.getSelectedNotes());\n\n  nudge = delta => {\n    if (isEmpty(this.state.selectedNoteIds)) return;\n\n    if (\n      Dawww.someNoteWillMoveOutside(\n        this.props.sequence.measureCount,\n        delta,\n        this.getSelectedNotes()\n      )\n    )\n      return;\n\n    const selectedNotes = this.getSelectedNotes();\n    const pitch = getOr(-1, \"[0].points[0].y\", selectedNotes);\n\n    this.previewPitch(pitch + delta.y);\n\n    this.props.onNudge(delta, selectedNotes);\n  };\n\n  nudgeDown = e => {\n    e.preventDefault();\n    this.nudge({ x: 0, y: 1 });\n  };\n\n  nudgeLeft = e => {\n    e.preventDefault();\n    this.nudge({ x: -1, y: 0 });\n  };\n\n  nudgeRight = e => {\n    e.preventDefault();\n    this.nudge({ x: 1, y: 0 });\n  };\n\n  nudgeUp = e => {\n    e.preventDefault();\n    this.nudge({ x: 0, y: -1 });\n  };\n\n  previewPitch = pitch => {\n    previewPitch(this.props.sequence.trackId, pitch);\n  };\n\n  redo = () => {\n    if (!this.props.isRedoEnabled) return;\n\n    this.props.onRedo();\n  };\n\n  selectAll = () => {\n    if (this.props.notes.length === this.state.selectedNoteIds.length) return;\n\n    this.setState({\n      selectedNoteIds: map(\"id\", this.props.notes)\n    });\n  };\n\n  setContentRef = contentElementRef => {\n    this.contentElementRef = contentElementRef;\n    this.forceUpdate();\n  };\n\n  undo = () => {\n    if (!this.props.isUndoEnabled) return;\n\n    this.props.onUndo();\n  };\n}\n\nfunction getGridMousePoint(scrollLeftEl, scrollTopEl, e) {\n  const styleOffset = 80;\n  const x = e.pageX || 0;\n  const y = e.pageY || 0;\n  const offsetLeft = scrollLeftEl.offsetLeft || 0;\n  const offsetTop = scrollLeftEl.offsetTop || 0;\n  const scrollLeft = scrollLeftEl.scrollLeft || 0;\n  const scrollTop = scrollTopEl.scrollTop || 0;\n\n  return {\n    x: toSlotNumber(x - offsetLeft + scrollLeft - styleOffset),\n    y: toSlotNumber(y - offsetTop + scrollTop)\n  };\n}\n\nfunction toSlotNumber(n) {\n  return Math.floor(n / 40);\n}\n","import { connect } from 'react-redux';\nimport shared from '../../../shared';\nimport song from '../../../song';\nimport { SequenceEditor } from './SequenceEditor';\n\nexport const SequenceEditorContainer = connect((state, ownProps) => ({\n  isLoading: song.selectors.getIsSongLoading(state),\n  isRedoEnabled: song.selectors.getIsRedoEnabled(state),\n  isUndoEnabled: song.selectors.getIsUndoEnabled(state),\n  notes: song.selectors.getNotesBySequenceId(\n    ownProps.match.params.sequenceId,\n  )(state),\n  sequence: song.selectors.getSequenceById(\n    ownProps.match.params.sequenceId,\n  )(state),\n}), {\n  onDelete: shared.actions.notesDeleted,\n  onDraw: shared.actions.noteDrawn,\n  onDrag: shared.actions.notesDragged,\n  onDuplicate: shared.actions.notesDuplicated,\n  onErase: shared.actions.noteErased,\n  onLoad: shared.actions.sequenceEditorLoaded,\n  onNudge: shared.actions.notesNudged,\n  onOctaveDown: shared.actions.notesMovedOctaveDown,\n  onOctaveUp: shared.actions.notesMovedOctaveUp,\n  onRedo: shared.actions.redoRequested,\n  onResize: shared.actions.notesResized,\n  onUndo: shared.actions.undoRequested,\n}, (stateProps, dispatchProps, ownProps) => ({\n  ...ownProps,\n  ...stateProps,\n  ...dispatchProps,\n  onDraw: point => dispatchProps.onDraw(point, stateProps.sequence),\n  onNudge: (delta, selectedNotes) =>\n    dispatchProps.onNudge(delta, selectedNotes, stateProps.sequence),\n}))(SequenceEditor);\n","import * as components from './components';\nimport * as constants from './constants';\n\nexport default {\n  components,\n  constants,\n};\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst AddTrackButtonPlusHorizontal = styled.div({\n  backgroundColor: \"white\",\n  height: 1,\n  left: \"50%\",\n  position: \"absolute\",\n  top: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 9\n});\n\nconst AddTrackButtonPlusVertical = styled.div({\n  backgroundColor: \"white\",\n  height: 9,\n  left: \"50%\",\n  position: \"absolute\",\n  top: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 1\n});\n\nconst StyledAddTrackButton = styled.div({\n  alignItems: \"center\",\n  backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n  border: \"1px solid white\",\n  cursor: \"pointer\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 36,\n  justifyContent: \"center\",\n  position: \"relative\",\n  transform: \"scale(1)\",\n  transition: \"transform 0.2s ease\",\n  width: 36,\n  \"&:hover:not(:active)\": {\n    backgroundColor: \"rgba(255, 255, 255, 0.6)\",\n    transform: \"scale(1.1)\"\n  },\n  \"&:active\": {\n    transform: \"scale(0.9)\"\n  }\n});\n\nexport function AddTrackButton(props) {\n  return (\n    <StyledAddTrackButton onClick={props.onClick} style={props.style}>\n      <AddTrackButtonPlusVertical className=\"add-track-button__plus__vertical\" />\n      <AddTrackButtonPlusHorizontal className=\"add-track-button__plus__horizontal\" />\n    </StyledAddTrackButton>\n  );\n}\n\nAddTrackButton.propTypes = {\n  onClick: PropTypes.func,\n  style: PropTypes.object\n};\n","import PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport Draggable from \"react-draggable\";\nimport styled from \"styled-components/macro\";\n\nconst DraggableWrapper = styled.div({\n  position: \"absolute\",\n  transition: \"transform 200ms ease\"\n});\n\nconst StyledRulerResizer = styled.div(props => ({\n  backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n  border: \"1px solid white\",\n  cursor: \"col-resize\",\n  height: 32,\n  left: 0,\n  position: \"absolute\",\n  top: 3,\n  transition: \"box-shadow 250ms ease, opacity 500ms ease, transform 350ms ease\",\n  width: 24,\n  \"&:hover:not(:active)\": {\n    backgroundColor: \"rgba(255, 255, 255, 0.6)\"\n  },\n  \"&:active\": {\n    backgroundColor: \"rgba(255, 255, 255, 0.4)\"\n  },\n  \":after\": {\n    borderLeft: \"2px dotted white\",\n    borderRight: \"2px dotted white\",\n    content: \"''\",\n    display: \"block\",\n    height: 10,\n    left: \"50%\",\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: 4\n  },\n  ...(props.isDragging\n    ? {\n        boxShadow: \"0 4px 16px 4px rgba(0, 0, 0, 0.25)\",\n        opacity: 0.8,\n        transform: \"translateY(-4px) scale(1.05)\",\n        transition:\n          \"box-shadow 250ms ease, opacity 500ms ease, transform 150ms ease\"\n      }\n    : {})\n}));\n\nRulerResizer.propTypes = {\n  size: PropTypes.number.isRequired\n};\n\nexport function RulerResizer(props) {\n  const [isDragging, setIsDragging] = useState(false);\n\n  const getPosition = () => ({\n    x: props.size * 64 + 16,\n    y: 0\n  });\n\n  const handleDrag = (e, dragData) => {\n    props.onSizeChange(\n      Math.max(1, props.size + Math.round(dragData.deltaX / 64))\n    );\n  };\n\n  return (\n    <Draggable\n      axis=\"x\"\n      bounds={{\n        left: 64 - 16\n      }}\n      grid={[64, 0]}\n      onDrag={handleDrag}\n      onStart={() => setIsDragging(true)}\n      onStop={() => setIsDragging(false)}\n      position={getPosition()}\n    >\n      <DraggableWrapper>\n        <StyledRulerResizer isDragging={isDragging} />\n      </DraggableWrapper>\n    </Draggable>\n  );\n}\n","import getOr from \"lodash/fp/getOr\";\nimport round from \"lodash/round\";\nimport times from \"lodash/fp/times\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\nimport { RulerResizer } from \"../RulerResizer/RulerResizer\";\n\nconst { MatrixBox } = shared.components;\n\nconst RulerMeasureNumber = styled.div({\n  color: \"rgba(255, 255, 255, 0.5)\",\n  fontSize: 10,\n  position: \"absolute\"\n});\n\nconst StyledRuler = styled.div(props => ({\n  cursor: \"pointer\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 35,\n  marginBottom: props.theme.margin.m,\n  position: \"relative\"\n}));\n\nexport class Ruler extends React.PureComponent {\n  static propTypes = {\n    measureCount: PropTypes.number.isRequired,\n    measureWidth: PropTypes.number.isRequired,\n    onMeasureCountChange: PropTypes.func.isRequired,\n    onPositionSet: PropTypes.func.isRequired,\n    isStopped: PropTypes.bool.isRequired\n  };\n\n  render() {\n    return (\n      <StyledRuler\n        onClick={this.handleClick}\n        style={{\n          width: this.getWidth()\n        }}\n      >\n        <MatrixBox\n          fill=\"white\"\n          height={35}\n          matrix={this.getMatrix()}\n          width={this.getWidth()}\n        />\n        {times(\n          i => (\n            <RulerMeasureNumber\n              key={i}\n              style={{\n                left: i * 64 + 6,\n                bottom: 0\n              }}\n            >\n              {i + 1}\n            </RulerMeasureNumber>\n          ),\n          this.props.measureCount\n        )}\n        <RulerResizer\n          onSizeChange={this.props.onMeasureCountChange}\n          size={this.props.measureCount}\n        />\n      </StyledRuler>\n    );\n  }\n\n  getIsLastMeasure(measureIndex) {\n    return measureIndex === this.props.measureCount;\n  }\n\n  getMatrix = () =>\n    times(\n      row =>\n        times(column => {\n          if (column === 0 || column % 8 === 0) {\n            if (row === 0 || row === 4) {\n              return 2;\n            }\n            return 1;\n          }\n          if (row === 0) {\n            return 1;\n          }\n          return 0;\n        }, this.props.measureCount * 8 + 1),\n      5\n    );\n\n  getMeasuresStyle() {\n    return {\n      width: this.props.measureCount * this.props.measureWidth\n    };\n  }\n\n  getWidth = () => this.props.measureWidth * this.props.measureCount + 1;\n\n  handleClick = e => {\n    if (this.props.isStopped) return;\n\n    const offset = getOr(0, \"nativeEvent.offsetX\", e);\n    const measures = offset / this.props.measureWidth;\n    const notesPerMeasure = 32;\n\n    this.props.onPositionSet(round(measures * notesPerMeasure));\n  };\n}\n","import { transparentize } from \"polished\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst AddSequenceButtonPlusHorizontal = styled.div(props => ({\n  backgroundColor: props.theme.primary[2],\n  height: 1,\n  left: \"50%\",\n  position: \"absolute\",\n  top: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 9\n}));\n\nconst AddSequenceButtonPlusVertical = styled.div(props => ({\n  backgroundColor: props.theme.primary[2],\n  height: 9,\n  left: \"50%\",\n  position: \"absolute\",\n  top: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 1\n}));\n\nconst StyledAddSequenceButton = styled.div(props => ({\n  alignItems: \"center\",\n  backgroundColor: transparentize(0.5, props.theme.primary[2]),\n  border: `1px solid ${props.theme.primary[2]}`,\n  cursor: \"pointer\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  height: 84,\n  justifyContent: \"center\",\n  position: \"absolute\",\n  width: 64\n  // TODO: ${mixins.interactionOverlay(\"white\")}\n}));\n\nexport class AddSequenceButton extends React.PureComponent {\n  static propTypes = {\n    onClick: PropTypes.func,\n    style: PropTypes.object\n  };\n\n  render() {\n    return (\n      <StyledAddSequenceButton\n        className=\"add-sequence-button\"\n        onClick={this.props.onClick}\n        style={this.props.style}\n      >\n        <AddSequenceButtonPlusVertical className=\"add-sequence-button__plus__vertical\" />\n        <AddSequenceButtonPlusHorizontal className=\"add-sequence-button__plus__horizontal\" />\n      </StyledAddSequenceButton>\n    );\n  }\n}\n","import getOr from \"lodash/fp/getOr\";\nimport styled from \"styled-components/macro\";\n\nexport const TrackSequenceNote = styled.div(props => {\n  const x0 = getOr(0, \"note.points[0].x\", props);\n  const x1 = getOr(0, \"note.points[1].x\", props);\n  const y0 = getOr(0, \"note.points[0].y\", props);\n\n  return {\n    backgroundColor: props.theme.almostblack,\n    height: 1,\n    left: 0,\n    position: \"absolute\",\n    top: 0,\n    transform: `translate(${x0 * 2}px, ${y0}px)`,\n    width: (x1 - x0 + 1) * 2\n  };\n});\n","import getOr from \"lodash/fp/getOr\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport { TrackSequenceNote } from \"../TrackSequenceNote/TrackSequenceNote\";\n\nconst StyledTrackSequence = styled.div(props => ({\n  display: \"flex\",\n  height: 84,\n  padding: props.theme.margin.s,\n  backgroundColor: props.isSelected\n    ? props.theme.almostwhite\n    : props.theme.primary[2],\n  borderRight: `2px solid ${\n    props.isSelected ? props.theme.almostwhite : props.theme.primary[0]\n  }`,\n  boxShadow: props.isSelected && \"0 0 10px rgba(255, 255, 255, 0.5)}\",\n  opacity: props.isMounted ? 1 : 0,\n  overflow: \"hidden\",\n  position: \"relative\",\n  transform: props.isMounted ? \"scaleY(1)\" : \"scaleY(0)\",\n  transition: \"box-shadow 250ms ease, opacity 500ms ease, transform 350ms ease\",\n  \"&:hover\": {\n    backgroundColor: !props.isSelected && props.theme.primary[1]\n  },\n  ...(props.isDragging\n    ? {\n        boxShadow: \"0 4px 16px 4px rgba(0, 0, 0, 0.25)\",\n        opacity: 0.8,\n        transform: \"translateY(-4px) scale(1.05)\",\n        transition:\n          \"box-shadow 250ms ease, opacity 500ms ease, transform 150ms ease\"\n      }\n    : {})\n}));\n\nexport class TrackSequence extends React.PureComponent {\n  static propTypes = {\n    className: PropTypes.string,\n    index: PropTypes.number.isRequired,\n    isDragging: PropTypes.bool.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    onOpen: PropTypes.func.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    sequence: PropTypes.object\n  };\n\n  static defaultProps = {\n    index: 0\n  };\n\n  state = {\n    isMounted: false\n  };\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        isMounted: true\n      });\n    }, 16);\n  }\n\n  render() {\n    return (\n      <StyledTrackSequence\n        isDragging={this.props.isDragging}\n        isMounted={this.state.isMounted}\n        isSelected={this.props.isSelected}\n        style={this.getStyle()}\n        onClick={this.handleClick}\n        onDoubleClick={this.handleDoubleClick}\n      >\n        {this.props.sequence.notes.map(note => (\n          <TrackSequenceNote key={note.id} note={note} />\n        ))}\n      </StyledTrackSequence>\n    );\n  }\n\n  getStyle = () => {\n    const measureCount = getOr(1, \"props.sequence.measureCount\", this);\n\n    return {\n      width: measureCountToPx(measureCount)\n    };\n  };\n\n  handleClick = () => {\n    if (this.props.isSelected) return;\n\n    this.props.onSelect(this.props.sequence);\n  };\n\n  handleDoubleClick = () => {\n    this.props.onOpen(this.props.sequence);\n  };\n}\n\nfunction measureCountToPx(count) {\n  return count * 4 * 8 * 2;\n}\n","import styled from \"styled-components/macro\";\n\nexport const TrackHeader = styled.div(props => ({\n  alignItems: \"center\",\n  alignSelf: \"flex-start\",\n  backgroundColor: props.theme.primary[0],\n  color: props.theme.almostblack,\n  display: \"flex\",\n  fontWeight: 800,\n  height: 28,\n  marginBottom: props.theme.margin.s,\n  paddingLeft: props.theme.margin.s,\n  paddingRight: props.theme.margin.s,\n  textTransform: \"uppercase\",\n  transform: \"scale(1)\",\n  transition: \"transform 0.2s ease\",\n  \"&:hover:not(:active)\": {\n    transform: \"scale(1.05)\"\n  },\n  \"&:active\": {\n    transform: \"scale(0.9)\"\n  }\n}));\n","import each from \"lodash/fp/each\";\nimport find from \"lodash/fp/find\";\nimport getOr from \"lodash/fp/getOr\";\nimport inRange from \"lodash/fp/inRange\";\nimport isNil from \"lodash/fp/isNil\";\nimport range from \"lodash/fp/range\";\nimport some from \"lodash/fp/some\";\nimport times from \"lodash/fp/times\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Translation } from \"react-i18next\";\nimport { showIf } from \"react-render-helpers\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\nimport { AddSequenceButton } from \"../AddSequenceButton/AddSequenceButton\";\nimport { TrackSequence } from \"../TrackSequence/TrackSequence\";\nimport { TrackHeader } from \"../TrackHeader/TrackHeader\";\n\nconst { Boxes, MatrixBox } = shared.components;\n\nconst StyledTrack = styled.div(props => ({\n  alignItems: \"stretch\",\n  cursor: \"pointer\",\n  display: \"flex\",\n  flex: \"0 0 auto\",\n  flexDirection: \"column\",\n  marginBottom: props.theme.margin.m\n}));\n\nconst TrackMatrixBox = styled(MatrixBox).attrs(props => ({\n  fill: props.theme.primary[2]\n}))({\n  left: 0,\n  position: \"absolute\",\n  top: 0\n});\n\nconst TrackSequences = styled.div({\n  alignItems: \"stretch\",\n  display: \"flex\",\n  flex: \"1 0 auto\",\n  height: 84,\n  position: \"relative\"\n});\n\nexport class Track extends React.PureComponent {\n  static propTypes = {\n    onSequenceAdd: PropTypes.func.isRequired,\n    onSequenceEdit: PropTypes.func,\n    onSequenceOpen: PropTypes.func.isRequired,\n    onSequenceSelect: PropTypes.func.isRequired,\n    onTrackIsMutedToggle: PropTypes.func.isRequired,\n    onTrackIsSoloingToggle: PropTypes.func.isRequired,\n    onTrackSelect: PropTypes.func.isRequired,\n    selectedSequence: PropTypes.object,\n    songMeasureCount: PropTypes.number.isRequired,\n    track: PropTypes.object.isRequired\n  };\n\n  render() {\n    const firstEmptyPosition = this.getFirstEmptyPosition();\n    return (\n      <StyledTrack>\n        <TrackHeader onClick={this.handleHeaderClick}>\n          <Translation>{t => t(this.props.track.voice)}</Translation>\n        </TrackHeader>\n        <TrackSequences style={this.getBodySequencesStyle()}>\n          <TrackMatrixBox\n            matrix={this.getMatrix()}\n            height={84}\n            width={this.props.songMeasureCount * 64}\n          />\n          <Boxes\n            boxContentComponent={this.getSequenceComponent}\n            items={this.getBoxesItems()}\n            length={this.props.songMeasureCount}\n            onItemsChange={this.handleBoxesItemsChange}\n            step={64}\n            style={{\n              height: 84\n            }}\n          />\n          {showIf(!isNil(firstEmptyPosition))(\n            <AddSequenceButton\n              onClick={() => this.handleSequenceAdd(firstEmptyPosition)}\n              style={{\n                left: firstEmptyPosition * 64\n              }}\n            />\n          )}\n        </TrackSequences>\n      </StyledTrack>\n    );\n  }\n\n  getBodySequencesStyle = () => ({\n    width: this.props.songMeasureCount * 64\n  });\n\n  getBoxesItems = () => {\n    const sequences = getOr([], \"props.track.sequences\", this);\n\n    return sequences.map(sequence => ({\n      id: sequence.id,\n      length: sequence.measureCount,\n      x: sequence.position,\n      sequence\n    }));\n  };\n\n  getFirstEmptyPosition = () => {\n    const sequences = getOr([], \"props.track.sequences\", this);\n    const allPositions = range(0, this.props.songMeasureCount);\n    const sequenceCoversPosition = position => sequence =>\n      inRange(\n        sequence.position,\n        sequence.position + sequence.measureCount,\n        position\n      );\n    const isEmptyPosition = position =>\n      !some(sequenceCoversPosition(position), sequences);\n\n    return find(isEmptyPosition, allPositions);\n  };\n\n  getIsSequenceSelected = sequence => {\n    const sequenceId = getOr(\"\", \"id\", sequence);\n    const selectedSequenceId = getOr(\"\", \"props.selectedSequence.id\", this);\n\n    if (!selectedSequenceId) return false;\n\n    return sequenceId === selectedSequenceId;\n  };\n\n  getMatrix = () => {\n    const rowCount = 7;\n    const columnCount = 4 * this.props.songMeasureCount + 1;\n\n    return times(\n      row =>\n        times(column => {\n          if (column === 0 || column % 4 === 0) {\n            if (row === 0 || row === 3 || row === 6) {\n              return 2;\n            }\n          }\n          return 1;\n        }, columnCount),\n      rowCount\n    );\n  };\n\n  getSequenceComponent = ({ isDragging, item }) => (\n    <TrackSequence\n      isDragging={isDragging}\n      isSelected={this.getIsSequenceSelected(item.sequence)}\n      onOpen={this.props.onSequenceOpen}\n      onSelect={this.props.onSequenceSelect}\n      sequence={item.sequence}\n    />\n  );\n\n  handleBodySequencesSequenceOpen = sequence => {\n    this.props.onSequenceOpen(sequence);\n  };\n\n  handleBodySequencesSequenceSelect = sequence => {\n    this.props.onSequenceSelect(sequence);\n  };\n\n  handleBoxesItemsChange = items => {\n    const editedSequences = items\n      .filter(item => {\n        if (item.sequence.measureCount !== item.length) return true;\n\n        if (item.sequence.position !== item.x) return true;\n\n        return false;\n      })\n      .map(item => ({\n        ...item.sequence,\n        measureCount: item.length,\n        position: item.x\n      }));\n\n    each(this.props.onSequenceEdit, editedSequences);\n  };\n\n  handleHeaderClick = () => {\n    this.props.onTrackSelect(this.props.track);\n  };\n\n  handleHeaderIsMutedToggle = () => {\n    this.props.onTrackIsMutedToggle(this.props.track);\n  };\n\n  handleHeaderIsSoloingToggle = () => {\n    this.props.onTrackIsSoloingToggle(this.props.track);\n  };\n\n  handleSequenceAdd = position => {\n    this.props.onSequenceAdd(this.props.track, position);\n  };\n}\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { animated, useTransition } from \"react-spring\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\nimport { AddTrackButton } from \"../AddTrackButton/AddTrackButton\";\nimport { Ruler } from \"../Ruler/Ruler\";\nimport { Track } from \"../Track/Track\";\n\nconst { FadeIn, FadeOut } = shared.components;\n\nconst LoadingIndicator = styled(animated.div)({\n  alignItems: \"center\",\n  bottom: 0,\n  color: \"white\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  justifyContent: \"center\",\n  left: 0,\n  position: \"absolute\",\n  right: 0,\n  top: 0\n});\n\nconst StyledTrackList = styled.div({\n  alignItems: \"flex-start\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  overflow: \"auto\",\n  position: \"relative\"\n});\n\nconst TrackListContent = styled.div(props => ({\n  alignItems: \"flex-start\",\n  display: \"flex\",\n  flex: \"1 0 auto\",\n  flexDirection: \"column\",\n  minWidth: \"100%\",\n  padding: props.theme.margin.m,\n  paddingBottom: props.theme.margin.m + 84,\n  paddingRight: props.theme.margin.m + 128,\n  paddingTop: props.theme.margin.m + 2,\n  position: \"relative\"\n}));\n\nconst TrackListUnderlay = styled.div({\n  bottom: 0,\n  left: 0,\n  position: \"absolute\",\n  right: 0,\n  top: 0\n});\n\nTrackList.propTypes = {\n  isStopped: PropTypes.bool.isRequired,\n  onPositionSet: PropTypes.func.isRequired,\n  onSequenceAdd: PropTypes.func.isRequired,\n  onSequenceDeselect: PropTypes.func.isRequired,\n  onSequenceEdit: PropTypes.func.isRequired,\n  onSequenceOpen: PropTypes.func.isRequired,\n  onSequenceSelect: PropTypes.func.isRequired,\n  onSongMeasureCountChange: PropTypes.func.isRequired,\n  onTrackAdd: PropTypes.func.isRequired,\n  onTrackIsMutedToggle: PropTypes.func.isRequired,\n  onTrackIsSoloingToggle: PropTypes.func.isRequired,\n  onTrackStage: PropTypes.func.isRequired,\n  selectedSequence: PropTypes.object,\n  songMeasureCount: PropTypes.number.isRequired,\n  tracks: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport function TrackList(props) {\n  const trackTransitions = useTransition(props.tracks, track => track.id, {\n    config: {\n      clamp: true,\n      tension: 200\n    },\n    from: {\n      marginLeft: -64,\n      opacity: 0\n    },\n    enter: {\n      marginLeft: 0,\n      opacity: 1\n    },\n    leave: {\n      marginLeft: 64,\n      opacity: 0\n    }\n  });\n\n  return (\n    <StyledTrackList>\n      <FadeOut component={LoadingIndicator} isVisible={props.isLoading}>\n        LOADING SONG...\n      </FadeOut>\n      <TrackListContent>\n        <TrackListUnderlay onClick={props.onSequenceDeselect} />\n        <FadeIn isVisible={!props.isLoading}>\n          <Ruler\n            isStopped={props.isStopped}\n            measureCount={props.songMeasureCount}\n            measureWidth={64}\n            onMeasureCountChange={props.onSongMeasureCountChange}\n            onPositionSet={props.onPositionSet}\n          />\n          {trackTransitions.map(({ item, key, props: animation }) => (\n            <animated.div\n              key={key}\n              style={{\n                ...animation,\n                height: animation.opacity.interpolate({\n                  range: [0, 0.5, 1],\n                  output: [0, 136, 136]\n                })\n              }}\n            >\n              <Track\n                onSequenceAdd={props.onSequenceAdd}\n                onSequenceEdit={props.onSequenceEdit}\n                onSequenceOpen={props.onSequenceOpen}\n                onSequenceSelect={props.onSequenceSelect}\n                onTrackIsMutedToggle={props.onTrackIsMutedToggle}\n                onTrackIsSoloingToggle={props.onTrackIsSoloingToggle}\n                onTrackSelect={props.onTrackStage}\n                selectedSequence={props.selectedSequence}\n                songMeasureCount={props.songMeasureCount}\n                track={item}\n              />\n            </animated.div>\n          ))}\n          <AddTrackButton\n            onClick={props.onTrackAdd}\n            songMeasureCount={props.songMeasureCount}\n          />\n        </FadeIn>\n      </TrackListContent>\n    </StyledTrackList>\n  );\n}\n","import Dawww from \"dawww\";\nimport getOr from \"lodash/fp/getOr\";\nimport isEmpty from \"lodash/fp/isEmpty\";\nimport range from \"lodash/fp/range\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Translation } from \"react-i18next\";\nimport styled from \"styled-components/macro\";\n\nconst minVolume = -20;\nconst maxVolume = 0;\n\nconst DeleteButton = styled(Button)(props => ({\n  alignSelf: \"stretch\",\n  marginLeft: props.theme.margin.s,\n  marginRight: props.theme.margin.s\n}));\n\nconst TrackEditingModalDropdown = styled(FormControl)(props => ({\n  marginBottom: props.theme.margin.m,\n  marginLeft: props.theme.margin.s\n}));\n\nconst TrackEditingModalContent = styled(DialogContent)(props => ({\n  alignItems: \"flex-start\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  marginLeft: props.theme.margin.s * -1,\n  marginRight: props.theme.margin.s * -1\n}));\n\nconst TrackEditingModalTitle = styled(DialogTitle)({\n  fontWeight: 800,\n  textTransform: \"uppercase\"\n});\n\nexport class TrackEditingModal extends React.PureComponent {\n  static propTypes = {\n    onDelete: PropTypes.func.isRequired,\n    onDismiss: PropTypes.func.isRequired,\n    onVoiceSet: PropTypes.func.isRequired,\n    onVolumeSet: PropTypes.func.isRequired,\n    stagedTrack: PropTypes.object.isRequired\n  };\n\n  render() {\n    return (\n      <Translation>\n        {t => (\n          <Dialog\n            fullWidth={true}\n            maxWidth=\"xs\"\n            onClose={this.props.onDismiss}\n            open={this.getIsOpen()}\n          >\n            <TrackEditingModalTitle>{t(\"Edit Track\")}</TrackEditingModalTitle>\n            <TrackEditingModalContent>\n              <TrackEditingModalDropdown>\n                <InputLabel htmlFor=\"voice\">Voice</InputLabel>\n                <Select\n                  inputProps={{ name: \"voice\", id: \"voice\" }}\n                  onChange={this.handleVoiceChange}\n                  value={getOr(\"\", \"props.stagedTrack.voice\", this)}\n                >\n                  {Object.keys(Dawww.VOICES).map(voice => (\n                    <MenuItem key={voice} value={voice}>\n                      {t(voice)}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </TrackEditingModalDropdown>\n              <TrackEditingModalDropdown>\n                <InputLabel htmlFor=\"volume\">Volume</InputLabel>\n                <Select\n                  inputProps={{ name: \"volume\", id: \"volume\" }}\n                  onChange={this.handleVolumeChange}\n                  value={getOr(0, \"props.stagedTrack.volume\", this)}\n                >\n                  {range(maxVolume, minVolume - 1).map(volume => (\n                    <MenuItem key={volume} value={volume}>\n                      {volume}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </TrackEditingModalDropdown>\n              <DeleteButton\n                color=\"secondary\"\n                onClick={this.handleContentDeleteButtonClick}\n                variant=\"contained\"\n              >\n                {t(\"Delete\")}\n              </DeleteButton>\n            </TrackEditingModalContent>\n          </Dialog>\n        )}\n      </Translation>\n    );\n  }\n\n  getIsOpen = () => !isEmpty(this.props.stagedTrack);\n\n  handleContentDeleteButtonClick = () => {\n    this.props.onDelete(this.props.stagedTrack);\n  };\n\n  handleVoiceChange = e =>\n    this.props.onVoiceSet(this.props.stagedTrack, e.target.value);\n\n  handleVolumeChange = e =>\n    this.props.onVolumeSet(this.props.stagedTrack, e.target.value);\n}\n","import isEmpty from 'lodash/fp/isEmpty';\nimport negate from 'lodash/fp/negate';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { showIf } from 'react-render-helpers';\nimport shared from '../../../shared';\n\nconst { IconButton, Toolbar } = shared.components;\n\nexport class TracksEditorToolbar extends React.PureComponent {\n  static propTypes = {\n    isRedoEnabled: PropTypes.bool.isRequired,\n    isUndoEnabled: PropTypes.bool.isRequired,\n    onRedo: PropTypes.func,\n    onSequenceDelete: PropTypes.func,\n    onSequenceDuplicate: PropTypes.func,\n    onSequenceOpen: PropTypes.func,\n    onUndo: PropTypes.func,\n    selectedSequence: PropTypes.object,\n  }\n\n  static defaultProps = {\n    selectedSequence: {},\n  };\n\n  render() {\n    return (\n      <Toolbar\n        position=\"top\"\n        isAlternate={this.getIsAlternate()}\n        leftItems={\n          <React.Fragment>\n            <IconButton\n              icon=\"undo\"\n              isDisabled={!this.props.isUndoEnabled}\n              onClick={this.props.onUndo}\n              title=\"Undo\"\n            />\n            {showIf(this.props.isRedoEnabled)(\n              <IconButton\n                icon=\"redo\"\n                isDisabled={!this.props.isRedoEnabled}\n                onClick={this.props.onRedo}\n                title=\"Redo\"\n              />\n            )}\n          </React.Fragment>\n        }\n        leftItemsAlt={\n          <React.Fragment>\n            <IconButton\n              icon=\"undo\"\n              isDisabled={!this.props.isUndoEnabled}\n              onClick={this.props.onUndo}\n              title=\"Undo\"\n            />\n            {showIf(this.props.isRedoEnabled)(\n              <IconButton\n                icon=\"redo\"\n                isDisabled={!this.props.isRedoEnabled}\n                onClick={this.props.onRedo}\n                title=\"Redo\"\n              />\n            )}\n          </React.Fragment>\n        }\n        rightItemsAlt={\n          <React.Fragment>\n            <IconButton\n              icon=\"pencil\"\n              onClick={this.openSequence}\n            />\n            <IconButton\n              icon=\"clone\"\n              onClick={this.props.onSequenceDuplicate}\n            />\n            <IconButton\n              icon=\"trash\"\n              onClick={this.props.onSequenceDelete}\n            />\n          </React.Fragment>\n        }\n      />\n    );\n  }\n\n  getIsAlternate = () =>\n    negate(isEmpty)(this.props.selectedSequence);\n\n  openSequence = () => {\n    this.props.onSequenceOpen(this.props.selectedSequence);\n  };\n}\n","import Dawww from \"dawww\";\nimport find from \"lodash/fp/find\";\nimport isEmpty from \"lodash/fp/isEmpty\";\nimport isNil from \"lodash/fp/isNil\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { HotKeys } from \"react-hotkeys\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\nimport { TrackList } from \"../TrackList/TrackList\";\nimport { TrackEditingModal } from \"../TrackEditingModal/TrackEditingModal\";\nimport { TracksEditorToolbar } from \"../TracksEditorToolbar/TracksEditorToolbar\";\n\nconst { Timeline } = shared.components;\n\nconst StyledTracksEditor = styled(HotKeys)({\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  overflow: \"hidden\",\n  position: \"relative\"\n});\n\nexport class TracksEditor extends React.PureComponent {\n  static propTypes = {\n    isLoading: PropTypes.bool.isRequired,\n    isRedoEnabled: PropTypes.bool.isRequired,\n    isStopped: PropTypes.bool.isRequired,\n    isUndoEnabled: PropTypes.bool.isRequired,\n    onLoad: PropTypes.func.isRequired,\n    onPositionSet: PropTypes.func.isRequired,\n    onRedo: PropTypes.func.isRequired,\n    onSequenceAdd: PropTypes.func.isRequired,\n    onSequenceDelete: PropTypes.func.isRequired,\n    onSequenceDuplicate: PropTypes.func.isRequired,\n    onSequenceEdit: PropTypes.func.isRequired,\n    onSongMeasureCountChange: PropTypes.func.isRequired,\n    onTrackAdd: PropTypes.func.isRequired,\n    onTrackDelete: PropTypes.func.isRequired,\n    onTrackIsMutedToggle: PropTypes.func.isRequired,\n    onTrackIsSoloingToggle: PropTypes.func.isRequired,\n    onTrackVoiceSet: PropTypes.func.isRequired,\n    onTrackVolumeSet: PropTypes.func.isRequired,\n    onUndo: PropTypes.func.isRequired,\n    position: PropTypes.number.isRequired,\n    sequences: PropTypes.arrayOf(PropTypes.object).isRequired,\n    song: PropTypes.object.isRequired,\n    songMeasureCount: PropTypes.number.isRequired,\n    tracks: PropTypes.arrayOf(PropTypes.object).isRequired\n  };\n\n  state = {\n    selectedSequenceId: \"\",\n    selectedTrackId: \"\"\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.focusRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.props.onLoad(this.props.match.params.songId);\n\n    this.focusRef.current.focus();\n  }\n\n  render() {\n    return (\n      <StyledTracksEditor focused={true} handlers={this.getKeyHandlers()}>\n        <div ref={this.focusRef} tabIndex={-1} />\n        <React.Fragment>\n          <TrackList\n            isLoading={this.props.isLoading}\n            isStopped={this.props.isStopped}\n            onPositionSet={this.props.onPositionSet}\n            onSequenceAdd={this.handleTrackListSequenceAdd}\n            onSequenceDelete={this.props.onSequenceDelete}\n            onSequenceEdit={this.props.onSequenceEdit}\n            onSequenceDeselect={this.handleTrackListSequenceDeselect}\n            onSequenceOpen={this.openSequence}\n            onSequenceSelect={this.handleTrackListSequenceSelect}\n            onSongMeasureCountChange={this.props.onSongMeasureCountChange}\n            onTrackAdd={this.handleTrackListTrackAdd}\n            onTrackIsMutedToggle={this.props.onTrackIsMutedToggle}\n            onTrackIsSoloingToggle={this.props.onTrackIsSoloingToggle}\n            onTrackStage={this.selectTrack}\n            selectedSequence={this.getSelectedSequence()}\n            songMeasureCount={this.props.songMeasureCount}\n            tracks={this.props.tracks}\n          />\n          <TracksEditorToolbar\n            isRedoEnabled={this.props.isRedoEnabled}\n            isUndoEnabled={this.props.isUndoEnabled}\n            onRedo={this.redo}\n            onSequenceDelete={this.deleteSelectedSequence}\n            onSequenceDuplicate={this.duplicateSelectedSequence}\n            onSequenceOpen={this.openSequence}\n            onUndo={this.undo}\n            selectedSequence={this.getSelectedSequence()}\n          />\n          <Timeline\n            isVisible={!this.props.isStopped}\n            offset={this.props.position * 2 + 16}\n          />\n          <TrackEditingModal\n            onDelete={this.deleteTrack}\n            onDismiss={this.deselectTrack}\n            onVoiceSet={this.props.onTrackVoiceSet}\n            onVolumeSet={this.props.onTrackVolumeSet}\n            stagedTrack={this.getSelectedTrack()}\n          />\n        </React.Fragment>\n      </StyledTracksEditor>\n    );\n  }\n\n  deleteSelectedSequence = e => {\n    e.preventDefault();\n\n    const selectedSequence = this.getSelectedSequence();\n\n    if (isNil(selectedSequence)) return;\n\n    this.props.onSequenceDelete(selectedSequence);\n  };\n\n  deleteTrack = track => {\n    this.props.onTrackDelete(track);\n\n    this.deselectTrack();\n  };\n\n  deselectTrack = () => {\n    this.setState({\n      selectedTrackId: \"\"\n    });\n  };\n\n  duplicateSelectedSequence = e => {\n    e.preventDefault();\n\n    const selectedSequence = this.getSelectedSequence();\n\n    if (isEmpty(selectedSequence)) return;\n\n    const duplicatedSequence = Dawww.createSequence(\n      selectedSequence.trackId,\n      selectedSequence.position,\n      selectedSequence.measureCount\n    );\n\n    this.props.onSequenceDuplicate(duplicatedSequence, selectedSequence);\n\n    this.setState({\n      selectedSequenceId: duplicatedSequence.id\n    });\n  };\n\n  getKeyHandlers = () => ({\n    backspace: this.deleteSelectedSequence,\n    del: this.deleteSelectedSequence,\n    \"ctrl+shift+d\": this.duplicateSelectedSequence,\n    \"ctrl+z\": this.undo,\n    \"ctrl+alt+z\": this.redo,\n    \"meta+shift+d\": this.duplicateSelectedSequence,\n    \"meta+z\": this.undo,\n    \"meta+alt+z\": this.redo\n  });\n\n  getSelectedSequence = () =>\n    find(s => s.id === this.state.selectedSequenceId, this.props.sequences) ||\n    {};\n\n  getSelectedTrack = () =>\n    find(t => t.id === this.state.selectedTrackId, this.props.tracks) || {};\n\n  handleTrackListSequenceAdd = (track, position) => {\n    const sequence = Dawww.createSequence(track.id, position);\n\n    this.props.onSequenceAdd(sequence);\n  };\n\n  handleTrackListSequenceDeselect = () => {\n    this.setState({\n      selectedSequenceId: \"\"\n    });\n  };\n\n  handleTrackListSequenceSelect = sequence => {\n    this.setState({\n      selectedSequenceId: sequence.id\n    });\n  };\n\n  handleTrackListTrackAdd = () => {\n    const track = Dawww.createTrack();\n    const sequence = Dawww.createSequence(track.id);\n\n    this.props.onTrackAdd(track, sequence);\n  };\n\n  handleTracksEditorToolbarSequenceDelete = () => {\n    this.props.onSequenceDelete(this.getSelectedSequence());\n  };\n\n  handleTracksEditorToolbarSequenceOpen = () => {\n    this.openSequence(this.getSelectedSequence());\n  };\n\n  openSequence = sequence => {\n    this.props.history.push(`${this.props.match.url}/sequencer/${sequence.id}`);\n  };\n\n  redo = () => {\n    if (!this.props.isRedoEnabled) return;\n\n    this.props.onRedo();\n  };\n\n  selectTrack = track => {\n    this.setState({\n      selectedTrackId: track.id\n    });\n  };\n\n  undo = () => {\n    if (!this.props.isUndoEnabled) return;\n\n    this.props.onUndo();\n  };\n}\n","import { connect } from 'react-redux';\nimport audio from '../../../audio';\nimport shared from '../../../shared';\nimport song from '../../../song';\nimport { TracksEditor } from './TracksEditor';\n\nexport const TracksEditorContainer = connect(state => ({\n  isLoading: song.selectors.getIsSongLoading(state),\n  isRedoEnabled: song.selectors.getIsRedoEnabled(state),\n  isUndoEnabled: song.selectors.getIsUndoEnabled(state),\n  isStopped: audio.selectors.getIsStopped(state),\n  position: audio.selectors.getPosition(state),\n  songMeasureCount: song.selectors.getMeasureCount(state),\n  sequences: song.selectors.getSequencesArray(state),\n  song: song.selectors.getSong(state),\n  tracks: song.selectors.getDeepTracks(state),\n}), {\n  onLoad: shared.actions.songEditorLoaded,\n  onPositionSet: shared.actions.positionSetRequestStarted,\n  onRedo: shared.actions.redoRequested,\n  onSequenceAdd: shared.actions.sequenceAdded,\n  onSequenceDelete: shared.actions.sequenceDeleted,\n  onSequenceDuplicate: shared.actions.sequenceDuplicated,\n  onSequenceEdit: shared.actions.sequenceEdited,\n  onSongMeasureCountChange: shared.actions.measureCountSet,\n  onTrackAdd: shared.actions.trackAdded,\n  onTrackDelete: shared.actions.trackDeleted,\n  onTrackIsMutedToggle: shared.actions.trackIsMutedToggled,\n  onTrackIsSoloingToggle: shared.actions.trackIsSoloingToggled,\n  onTrackVoiceSet: shared.actions.trackVoiceSet,\n  onTrackVolumeSet: shared.actions.trackVolumeSet,\n  onUndo: shared.actions.undoRequested,\n})(TracksEditor);\n","export const NAME = 'tracksEditor';\n","import * as components from './components';\nimport * as constants from './constants';\n\nexport default {\n  components,\n  constants,\n};\n","import Dawww from 'dawww';\nimport isEmpty from 'lodash/fp/isEmpty';\nimport negate from 'lodash/fp/negate';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { hideIf, showIf } from 'react-render-helpers';\nimport Tone from 'tone';\nimport shared from '../../../shared';\n\nconst { STARTED, STOPPED } = Dawww.PLAYBACK_STATES;\nconst { IconButton, Toolbar } = shared.components;\n\nexport class SongEditorToolbar extends React.PureComponent {\n  static propTypes = {\n    onPause: PropTypes.func.isRequired,\n    onPlay: PropTypes.func.isRequired,\n    onSongInfoOpen: PropTypes.func,\n    onStop: PropTypes.func.isRequired,\n    playbackState: PropTypes.string.isRequired,\n  }\n\n  render() {\n    return (\n      <Toolbar\n        position=\"top\"\n        isAlternate={this.getIsAlternate()}\n        leftItems={\n          <React.Fragment>\n            <IconButton\n              icon=\"cog\"\n              onClick={this.props.onSongInfoOpen}\n              title=\"Settings\"\n            />\n          </React.Fragment>\n        }\n        rightItems={\n          <React.Fragment>\n            {hideIf(this.props.playbackState === STARTED)(\n              <IconButton\n                icon=\"play\"\n                onClick={this.playPause}\n                title=\"Play\"\n              />\n            )}\n            {showIf(this.props.playbackState === STARTED)(\n              <IconButton\n                icon=\"pause\"\n                onClick={this.playPause}\n                title=\"Pause\"\n              />\n            )}\n            {showIf(this.props.playbackState !== STOPPED)(\n              <IconButton\n                icon=\"stop\"\n                onClick={this.stop}\n                title=\"Stop\"\n              />\n            )}\n          </React.Fragment>\n        }\n        style={{\n          borderTop: 0,\n        }}\n      />\n    );\n  }\n\n  getIsAlternate = () =>\n    negate(isEmpty)(this.props.selectedSequence);\n\n  getIsMoveLeftButtonDisabled = () =>\n    this.props.selectedSequence.position < 1;\n\n  getIsShortenButtonDisabled = () =>\n    this.props.selectedSequence.measureCount < 2;\n\n  openSequence = () => {\n    this.props.onSequenceOpen(this.props.selectedSequence);\n  };\n\n  playPause = () => {\n    if (Tone.context.state !== 'running') {\n      Tone.context.resume();\n    }\n\n    if (this.props.playbackState === STARTED) {\n      this.props.onPause();\n    } else {\n      this.props.onPlay();\n    }\n  }\n\n  stop = () => {\n    this.props.onStop();\n  }\n}\n","import Dawww from \"dawww\";\nimport map from \"lodash/fp/map\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Translation } from \"react-i18next\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\n\nconst { DownloadButton } = shared.components;\nconst getBPMRangeItem = x => ({ id: x, text: String(x) });\nconst bpmRangeItems = map(getBPMRangeItem, Dawww.BPM_RANGE);\n\nconst SongInfoModalBPMDropdown = styled(FormControl)(props => ({\n  marginBottom: props.theme.margin.m,\n  marginLeft: props.theme.margin.s\n}));\n\nconst SongInfoModalContent = styled(DialogContent)(props => ({\n  alignItems: \"flex-start\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  marginLeft: props.theme.margin.s * -1,\n  marginRight: props.theme.margin.s * -1\n}));\n\nconst SongInfoModalTitle = styled(DialogTitle)({\n  fontWeight: 800,\n  textTransform: \"uppercase\"\n});\n\nconst SongInfoModalLabel = styled(Typography)(props => ({\n  marginLeft: props.theme.margin.s,\n  marginTop: props.theme.margin.m\n}));\n\nexport class SongInfoModal extends React.PureComponent {\n  static propTypes = {\n    bpm: PropTypes.number.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    onBPMChange: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    onReturnToDashboard: PropTypes.func.isRequired,\n    onSignOut: PropTypes.func.isRequired,\n    song: PropTypes.object\n  };\n\n  render() {\n    return (\n      <Translation>\n        {t => (\n          <Dialog\n            fullWidth={true}\n            maxWidth=\"xs\"\n            onClose={this.props.onConfirm}\n            open={this.props.isOpen}\n          >\n            <SongInfoModalTitle>{t(\"Song Info\")}</SongInfoModalTitle>\n            <SongInfoModalContent className=\"song-info-modal__content\">\n              <SongInfoModalBPMDropdown>\n                <InputLabel htmlFor=\"bpm\">BPM</InputLabel>\n                <Select\n                  inputProps={{ name: \"bpm\", id: \"bpm\" }}\n                  onChange={this.handleBPMSelectChange}\n                  value={this.props.bpm}\n                >\n                  {bpmRangeItems.map(bpmRangeItem => (\n                    <MenuItem key={bpmRangeItem.id} value={bpmRangeItem.id}>\n                      {bpmRangeItem.text}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </SongInfoModalBPMDropdown>\n              <Button onClick={this.props.onReturnToDashboard}>\n                {t(\"Return to Dashboard\")}\n              </Button>\n              <Button onClick={this.props.onSignOut}>{t(\"Sign Out\")}</Button>\n              <DownloadButton\n                fileContents={this.getStringifiedSong()}\n                filename=\"song.json\"\n              >\n                {t(\"Download Song\")}\n              </DownloadButton>\n              <SongInfoModalLabel variant=\"subtitle1\">\n                {t(\"Select Language\")}\n              </SongInfoModalLabel>\n              <Button onClick={() => shared.i18n.changeLanguage(\"en\")}>\n                {t(\"English\")}\n              </Button>\n              <Button onClick={() => shared.i18n.changeLanguage(\"jp\")}>\n                {t(\"Japanese\")}\n              </Button>\n            </SongInfoModalContent>\n          </Dialog>\n        )}\n      </Translation>\n    );\n  }\n\n  getStringifiedSong = () => JSON.stringify(this.props.song);\n\n  handleBPMSelectChange = event => {\n    this.props.onBPMChange(event.target.value);\n  };\n}\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { HotKeys } from \"react-hotkeys\";\nimport styled from \"styled-components/macro\";\nimport sequenceEditor from \"../../../sequenceEditor\";\nimport tracksEditor from \"../../../tracksEditor\";\nimport { SongEditorToolbar } from \"../SongEditorToolbar/SongEditorToolbar\";\nimport { SongInfoModal } from \"../SongInfoModal/SongInfoModal\";\n\nconst { SequenceEditorContainer } = sequenceEditor.components;\nconst { TracksEditorContainer } = tracksEditor.components;\n\nconst StyledSongEditor = styled(HotKeys)({\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  flexDirection: \"column\",\n  overflow: \"hidden\",\n  position: \"relative\"\n});\n\nexport class SongEditor extends React.PureComponent {\n  static propTypes = {\n    bpm: PropTypes.number.isRequired,\n    onBPMChange: PropTypes.func.isRequired,\n    onPause: PropTypes.func.isRequired,\n    onPlay: PropTypes.func.isRequired,\n    onStop: PropTypes.func.isRequired,\n    playbackState: PropTypes.string.isRequired,\n    song: PropTypes.object\n  };\n\n  state = {\n    isSongInfoModalOpen: false\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.song.name !== this.props.song.name) {\n      window.document.title = `${this.props.song.name} - Aria`;\n    }\n  }\n\n  render() {\n    return (\n      <StyledSongEditor focused={true} handlers={{}}>\n        <Route\n          component={TracksEditorContainer}\n          exact={true}\n          path={this.props.match.path}\n        />\n        <Route\n          component={SequenceEditorContainer}\n          exact={true}\n          path={`${this.props.match.path}/sequencer/:sequenceId`}\n        />\n        <SongEditorToolbar\n          onPause={this.props.onPause}\n          onPlay={this.props.onPlay}\n          onSongInfoOpen={this.openSongInfo}\n          onStop={this.props.onStop}\n          playbackState={this.props.playbackState}\n        />\n        <SongInfoModal\n          bpm={this.props.bpm}\n          isOpen={this.state.isSongInfoModalOpen}\n          onBPMChange={this.props.onBPMChange}\n          onConfirm={this.closeSongInfo}\n          onReturnToDashboard={this.returnToDashboard}\n          onSignOut={this.signOut}\n          song={this.props.song}\n        />\n      </StyledSongEditor>\n    );\n  }\n\n  closeSongInfo = () => {\n    this.setState({\n      isSongInfoModalOpen: false\n    });\n  };\n\n  openSongInfo = () => {\n    this.setState({\n      isSongInfoModalOpen: true\n    });\n  };\n\n  returnToDashboard = () => {\n    this.props.history.push(\"/\");\n  };\n\n  signOut = () => {\n    this.props.history.push(\"/sign-out\");\n  };\n}\n","import { connect } from 'react-redux';\nimport audio from '../../../audio';\nimport shared from '../../../shared';\nimport song from '../../../song';\nimport { SongEditor } from './SongEditor';\n\nexport const SongEditorContainer = connect(state => ({\n  bpm: song.selectors.getBPM(state),\n  playbackState: audio.selectors.getPlaybackState(state),\n  song: song.selectors.getSong(state),\n}), {\n  onBPMChange: shared.actions.bpmSet,\n  onPause: shared.actions.playbackPauseRequestStarted,\n  onPlay: shared.actions.playbackStartRequestStarted,\n  onStop: shared.actions.playbackStopRequestStarted,\n})(SongEditor);\n","export const NAME = 'songEditor';\n","import * as components from './components';\nimport * as constants from './constants';\n\nexport default {\n  components,\n  constants,\n};\n","import * as firebase from \"firebase/app\";\nimport getOr from \"lodash/fp/getOr\";\nimport Button from \"@material-ui/core/Button\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Translation } from \"react-i18next\";\nimport { Redirect } from \"react-router-dom\";\nimport styled from \"styled-components/macro\";\nimport shared from \"../../../shared\";\n\nconst { authProvider } = shared.constants;\n\nconst StyledSignIn = styled.div({\n  alignItems: \"center\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  justifyContent: \"center\"\n});\n\nexport class SignIn extends React.Component {\n  static propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired\n  };\n\n  componentDidMount() {\n    window.document.title = \"Sign In - Aria\";\n  }\n\n  render() {\n    if (this.props.isAuthenticated) {\n      return <Redirect to={this.getRedirectFrom()} />;\n    }\n\n    return (\n      <Translation>\n        {t => (\n          <StyledSignIn>\n            <Button\n              onClick={() => firebase.auth().signInWithRedirect(authProvider)}\n              variant=\"contained\"\n            >\n              {t(\"Sign in with Google\")}\n            </Button>\n          </StyledSignIn>\n        )}\n      </Translation>\n    );\n  }\n\n  getRedirectFrom = () =>\n    getOr({ pathname: \"/\" }, \"props.location.state.from\", this);\n}\n","import { connect } from 'react-redux';\nimport user from '../../../user';\nimport { SignIn } from './SignIn';\n\nexport const SignInContainer = connect(state => ({\n  isAuthenticated: user.selectors.getIsAuthenticated(state),\n}))(SignIn);\n","import * as firebase from \"firebase/app\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Translation } from \"react-i18next\";\nimport { Redirect } from \"react-router-dom\";\nimport styled from \"styled-components/macro\";\n\nconst StyledSignOut = styled.div({\n  alignItems: \"center\",\n  color: \"white\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  justifyContent: \"center\",\n  textTransform: \"uppercase\"\n});\n\nexport class SignOut extends React.Component {\n  static propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired\n  };\n\n  componentDidMount() {\n    window.document.title = \"Sign Out - Aria\";\n\n    setTimeout(() => {\n      // TODO: Convert to auth helper\n      firebase.auth().signOut();\n    }, 1000);\n  }\n\n  render() {\n    if (!this.props.isAuthenticated) {\n      return (\n        <Redirect\n          to={{\n            pathname: \"/sign-in\"\n          }}\n        />\n      );\n    }\n\n    return (\n      <Translation>\n        {t => <StyledSignOut>{t(\"Signing Out\")}</StyledSignOut>}\n      </Translation>\n    );\n  }\n}\n","import { connect } from 'react-redux';\nimport user from '../../../user';\nimport { SignOut } from './SignOut';\n\nexport const SignOutContainer = connect(state => ({\n  isAuthenticated: user.selectors.getIsAuthenticated(state),\n}))(SignOut);\n","import Dawww from \"dawww\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { HotKeys } from \"react-hotkeys\";\nimport { hideIf, showIf } from \"react-render-helpers\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport styled, { ThemeProvider } from \"styled-components/macro\";\nimport Tone from \"tone\";\nimport dashboard from \"../../../dashboard\";\nimport shared from \"../../../shared\";\nimport songEditor from \"../../../songEditor\";\nimport { SignInContainer } from \"../SignIn/SignInContainer\";\nimport { SignOutContainer } from \"../SignOut/SignOutContainer\";\n\nconst { styles } = shared;\nconst { DashboardContainer } = dashboard.components;\nconst { Shell } = shared.components;\nconst { STARTED } = Dawww.PLAYBACK_STATES;\nconst { SongEditorContainer } = songEditor.components;\n\nconst PrivateRoute = ({ component: Component, isAuthenticated, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/sign-in\",\n            state: { from: props.location }\n          }}\n        />\n      )\n    }\n  />\n);\n\nconst LoadingIndicator = styled.div({\n  alignItems: \"center\",\n  color: \"white\",\n  display: \"flex\",\n  flex: \"1 1 auto\",\n  justifyContent: \"center\"\n});\n\nexport class App extends React.PureComponent {\n  static propTypes = {\n    isAuthenticated: PropTypes.bool,\n    didAuthenticationRun: PropTypes.bool,\n    onPause: PropTypes.func.isRequired,\n    onPlay: PropTypes.func.isRequired,\n    onStop: PropTypes.func.isRequired,\n    playbackState: PropTypes.string.isRequired\n  };\n\n  render() {\n    return (\n      <MuiThemeProvider theme={styles.themes.mui}>\n        <ThemeProvider theme={styles.themes.emerald}>\n          <HotKeys\n            focused={true}\n            handlers={this.getKeyHandlers()}\n            onDragEnter={this.handleDragEnter}\n            onDragOver={this.handleDragOver}\n            onDrop={this.handleDrop}\n          >\n            <Shell>\n              {hideIf(this.props.didAuthenticationRun)(\n                <LoadingIndicator>AUTHENTICATING...</LoadingIndicator>\n              )}\n              {showIf(this.props.didAuthenticationRun)(\n                <React.Fragment>\n                  <Route\n                    component={SignInContainer}\n                    exact={true}\n                    path=\"/sign-in\"\n                  />\n                  <Route\n                    component={SignOutContainer}\n                    exact={true}\n                    path=\"/sign-out\"\n                  />\n                  <PrivateRoute\n                    component={DashboardContainer}\n                    exact={true}\n                    isAuthenticated={this.props.isAuthenticated}\n                    path=\"/\"\n                  />\n                  <PrivateRoute\n                    component={SongEditorContainer}\n                    exact={false}\n                    isAuthenticated={this.props.isAuthenticated}\n                    path=\"/song/:songId\"\n                  />\n                </React.Fragment>\n              )}\n            </Shell>\n          </HotKeys>\n        </ThemeProvider>\n      </MuiThemeProvider>\n    );\n  }\n\n  getKeyHandlers = () => ({\n    enter: this.playPause,\n    esc: this.stop\n  });\n\n  playPause = () => {\n    if (Tone.context.state !== \"running\") {\n      Tone.context.resume();\n    }\n\n    if (this.props.playbackState === STARTED) {\n      this.props.onPause();\n    } else {\n      this.props.onPlay();\n    }\n  };\n\n  stop = () => {\n    this.props.onStop();\n  };\n}\n","import { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport audio from '../../../audio';\nimport user from '../../../user';\nimport shared from '../../../shared';\nimport { App } from './App';\n\nexport const AppContainer = withRouter(connect(state => ({\n  isAuthenticated: user.selectors.getIsAuthenticated(state),\n  didAuthenticationRun: user.selectors.getDidAuthenticationRun(state),\n  playbackState: audio.selectors.getPlaybackState(state),\n}), {\n  onPause: shared.actions.playbackPauseRequestStarted,\n  onPlay: shared.actions.playbackStartRequestStarted,\n  onStop: shared.actions.playbackStopRequestStarted,\n})(App));\n","import * as components from './components';\n\nexport default {\n  components,\n};\n","import audio from '../features/audio';\nimport song from '../features/song';\nimport user from '../features/user';\n\nexport default [\n  ...audio.logic,\n  ...song.logic,\n  ...user.logic,\n];\n","import { combineReducers } from 'redux';\nimport audio from '../features/audio';\nimport song from '../features/song';\nimport user from '../features/user';\n\nexport default combineReducers({\n  [audio.constants.NAME]: audio.reducer,\n  [song.constants.NAME]: song.reducer,\n  [user.constants.NAME]: user.reducer,\n});\n","import { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { createLogicMiddleware } from 'redux-logic';\nimport shared from '../features/shared';\nimport logic from './logic';\nimport reducer from './reducer';\n\nconst logicMiddleware = createLogicMiddleware(logic);\n\nconst middlewareEnhancer = applyMiddleware(\n  logicMiddleware,\n);\n\nconst composeEnhancers = composeWithDevTools({\n  actionsBlacklist: [\n    shared.actions.POSITION_REQUEST_SUCCEEDED,\n  ],\n});\n\nconst store = createStore(reducer, composeEnhancers(\n  middlewareEnhancer,\n));\n\nexport default store;\n","import \"firebase/auth\";\nimport \"firebase/firestore\";\nimport { create } from \"jss\";\nimport JssProvider from \"react-jss/lib/JssProvider\";\nimport { createGenerateClassName, jssPreset } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport app from \"./features/app\";\nimport shared from \"./features/shared\";\nimport store from \"./store\";\nimport \"./resets.css\";\n\nconst styleNode = document.createComment(\"insertion-point-jss\");\ndocument.head.insertBefore(styleNode, document.head.firstChild);\n\nconst generateClassName = createGenerateClassName();\nconst jss = create({\n  ...jssPreset(),\n  insertionPoint: \"insertion-point-jss\"\n});\n\nconst { AppContainer } = app.components;\n\nstore.dispatch(shared.actions.initialized());\n\nrender(\n  <JssProvider jss={jss} generateClassName={generateClassName}>\n    <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  </JssProvider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}